<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Play Contrivity</title>
    <meta content="noindex" name="robots">
    <meta charset="utf-8">
    <style type="text/css">
      [recoil="0"] {margin-top: -3px;}
      [recoil="1"] {margin-top: 4px;}
      [recoil="2"] {margin-left: -5px;}
      [recoil="3"] {margin-left: 6px;}
      body,
      html {
        background-color: #f3f3f3;
        font-family: sans-serif;
        margin-bottom: 0;
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        overflow-x: hidden;
        overflow-y: hidden;
      }
      p {
        margin-bottom: 0;
        margin-left: 0;
        margin-right: 0;
        margin-top: 0;
        position: absolute;
        z-index: 6;
      }
      .bits {
        z-index: 2;
      }
        .bits div {
          border-radius: 10px;
          position: absolute;
        }
        .bits-0 .bits-0 {background-color: #333; height: 4px; left: 9px; top: 19px; width: 4px;}
        .bits-0 .bits-1 {background-color: #666; height: 4px; left: 2px; top: 4px; transform: rotate(154deg); width: 8px;}
        .bits-0 .bits-2 {background-color: #222; height: 4px; left: 23px; top: -11px; width: 4px;}
        .bits-0 .bits-3 {background-color: #222; height: 4px; left: -29px; top: -11px; transform: rotate(175deg); width: 10px;}
        .bits-0 .bits-4 {background-color: #333; height: 4px; left: -58px; top: -15px; width: 4px;}
        .bits-0 .bits-5 {background-color: #333; height: 4px; left: -20px; top: 11px; transform: rotate(28deg); width: 6px;}
        .bits-0 .bits-6 {background-color: #333; height: 4px; left: -28px; top: -5px; width: 4px;}
        .bits-0 .bits-7 {background-color: #333; height: 4px; left: -31px; top: 15px; width: 4px;}
        .bits-0 .bits-8 {background-color: #333; height: 4px; left: 8px; top: 11px; width: 4px;}
        .bits-1 .bits-0 {background-color: #333; height: 4px; left: 35px; top: 1px; width: 4px;}
        .bits-1 .bits-1 {background-color: #333; height: 8px; left: 39px; top: 22px; width: 8px;}
        .bits-1 .bits-2 {background-color: #222; height: 4px; left: 12px; top: 56px; width: 4px;}
        .bits-1 .bits-3 {background-color: #333; height: 4px; left: 15px; top: -17px; transform: rotate(42deg); width: 10px;}
        .bits-1 .bits-4 {background-color: #333; height: 4px; left: 31px; top: -16px; width: 4px;}
        .bits-1 .bits-5 {background-color: #666; height: 4px; left: -3px; top: -8px; transform: rotate(113deg); width: 6px;}
        .bits-1 .bits-6 {background-color: #333; height: 4px; left: 2px; top: 4px; transform: rotate(154deg); width: 8px;}
        .bits-1 .bits-7 {background-color: #222; height: 4px; left: 23px; top: -21px; width: 4px;}
        .bits-1 .bits-8 {background-color: #222; height: 4px; left: -29px; top: -11px; transform: rotate(175deg); width: 10px;}
        .bits-2 .bits-0 {background-color: #222; height: 4px; left: -2px; top: 8px; width: 4px;}
        .bits-2 .bits-1 {background-color: #333; height: 4px; left: 10px; top: 11px; transform: rotate(172deg); width: 8px;}
        .bits-2 .bits-2 {background-color: #222; height: 4px; left: -2px; top: 10px; width: 4px;}
        .bits-2 .bits-3 {background-color: #333; height: 4px; left: 21px; top: 1px; transform: rotate(93deg); width: 10px;}
        .bits-2 .bits-4 {background-color: #333; height: 4px; left: 20px; top: 4px; width: 4px;}
        .bits-2 .bits-5 {background-color: #333; height: 4px; left: 14px; top: 16px; transform: rotate(158deg); width: 6px;}
        .bits-2 .bits-6 {background-color: #333; height: 8px; left: 19px; top: 42px; width: 8px;}
        .bits-2 .bits-7 {background-color: #666; height: 4px; left: 12px; top: 26px; width: 4px;}
        .bits-2 .bits-8 {background-color: #333; height: 4px; left: 15px; top: -17px; transform: rotate(42deg); width: 10px;}
        .bits-3 .bits-0 {background-color: #333; height: 4px; left: 16px; top: -6px; width: 4px;}
        .bits-3 .bits-1 {background-color: #333; height: 8px; left: 19px; top: 18px; width: 8px;}
        .bits-3 .bits-2 {background-color: #333; height: 4px; left: -24px; top: -25px; width: 4px;}
        .bits-3 .bits-3 {background-color: #666; height: 4px; left: 22px; top: -55px; transform: rotate(77deg); width: 10px;}
        .bits-3 .bits-4 {background-color: #222; height: 4px; left: 8px; top: -21px; width: 4px;}
        .bits-3 .bits-5 {background-color: #333; height: 4px; left: -17px; top: -16px; transform: rotate(155deg); width: 6px;}
        .bits-3 .bits-6 {background-color: #333; height: 4px; left: 10px; top: 11px; transform: rotate(172deg); width: 8px;}
        .bits-3 .bits-7 {background-color: #222; height: 4px; left: -2px; top: 10px; width: 4px;}
        .bits-3 .bits-8 {background-color: #333; height: 4px; left: 21px; top: 1px; transform: rotate(93deg); width: 10px;}
        .bits-4 .bits-0 {background-color: #333; height: 4px; left: 10px; top: -15px; width: 4px;}
        .bits-4 .bits-1 {background-color: #666; height: 4px; left: 23px; top: 23px; transform: rotate(64deg); width: 8px;}
        .bits-4 .bits-2 {background-color: #333; height: 4px; left: 24px; top: 7px; width: 4px;}
        .bits-4 .bits-3 {background-color: #333; height: 4px; left: 22px; top: -28px; transform: rotate(102deg); width: 10px;}
        .bits-4 .bits-4 {background-color: #222; height: 4px; left: 9px; top: 16px; width: 4px;}
        .bits-4 .bits-5 {background-color: #222; height: 8px; left: 19px; top: -8px; width: 8px;}
        .bits-4 .bits-6 {background-color: #333; height: 4px; left: 16px; top: -6px; width: 4px;}
        .bits-4 .bits-7 {background-color: #333; height: 4px; left: 29px; top: 58px; transform: rotate(112deg); width: 8px;}
        .bits-4 .bits-8 {background-color: #333; height: 4px; left: -24px; top: -45px; width: 4px;}
        .bits-5 .bits-0 {background-color: #333; height: 4px; left: 27px; top: -9px; width: 4px;}
        .bits-5 .bits-1 {background-color: #333; height: 4px; left: 2px; top: -8px; transform: rotate(139deg); width: 8px;}
        .bits-5 .bits-2 {background-color: #333; height: 4px; left: 16px; top: 22px; width: 4px;}
        .bits-5 .bits-3 {background-color: #333; height: 4px; left: -1px; top: -6px; transform: rotate(138deg); width: 10px;}
        .bits-5 .bits-4 {background-color: #222; height: 4px; left: -13px; top: -46px; width: 4px;}
        .bits-5 .bits-5 {background-color: #333; height: 8px; left: 9px; top: -16px; width: 8px;}
        .bits-5 .bits-6 {background-color: #666; height: 4px; left: 23px; top: 23px; transform: rotate(64deg); width: 8px;}
        .bits-5 .bits-7 {background-color: #333; height: 4px; left: 24px; top: 7px; width: 4px;}
        .bits-5 .bits-8 {background-color: #333; height: 4px; left: 22px; top: -28px; transform: rotate(102deg); width: 10px;}
        .bits-6 .bits-0 {background-color: #222; height: 4px; left: 25px; top: -25px; width: 4px;}
        .bits-6 .bits-1 {background-color: #222; height: 8px; left: -5px; top: 26px; width: 8px;}
        .bits-6 .bits-2 {background-color: #333; height: 4px; left: 7px; top: -72px; width: 4px;}
        .bits-6 .bits-3 {background-color: #666; height: 4px; left: -7px; top: -19px; transform: rotate(109deg); width: 10px;}
        .bits-6 .bits-4 {background-color: #333; height: 4px; left: -16px; top: -11px; width: 4px;}
        .bits-6 .bits-5 {background-color: #333; height: 4px; left: 49px; top: -11px; transform: rotate(25deg); width: 6px;}
        .bits-6 .bits-6 {background-color: #333; height: 4px; left: 16px; top: 22px; width: 4px;}
        .bits-6 .bits-7 {background-color: #222; height: 4px; left: -13px; top: -6px; width: 4px;}
        .bits-6 .bits-8 {background-color: #333; height: 4px; left: 9px; top: -16px; transform: rotate(80deg); width: 6px;}
        .bits-7 .bits-0 {background-color: #333; height: 4px; left: 22px; top: 2px; width: 4px;}
        .bits-7 .bits-1 {background-color: #222; height: 8px; left: -51px; top: 26px; width: 8px;}
        .bits-7 .bits-2 {background-color: #333; height: 4px; left: -14px; top: 25px; width: 4px;}
        .bits-7 .bits-3 {background-color: #333; height: 4px; left: -16px; top: 21px; width: 4px;}
        .bits-7 .bits-4 {background-color: #333; height: 4px; left: -10px; top: -26px; width: 4px;}
        .bits-7 .bits-5 {background-color: #666; height: 4px; left: 13px; top: -5px; width: 4px;}
        .bits-7 .bits-6 {background-color: #222; height: 4px; left: -5px; top: 26px;  width: 4px;}
        .bits-7 .bits-7 {background-color: #333; height: 4px; left: -7px; top: -19px; width: 4px;}
        .bits-7 .bits-8 {background-color: #333; height: 4px; left: 19px; top: -11px; width: 4px;}
        .bits-8 .bits-0 {background-color: #333; height: 4px; left: -4px; top: 17px; width: 4px;}
        .bits-8 .bits-1 {background-color: #333; height: 8px; left: 52px; top: 25px; width: 8px;}
        .bits-8 .bits-2 {background-color: #222; height: 4px; left: 15px; top: 16px; width: 4px;}
        .bits-8 .bits-3 {background-color: #333; height: 4px; left: 20px; top: 2px; transform: rotate(96deg); width: 10px;}
        .bits-8 .bits-4 {background-color: #333; height: 4px; left: 7px; top: -12px; width: 4px;}
        .bits-8 .bits-5 {background-color: #222; height: 4px; left: 18px; top: -16px; transform: rotate(44deg); width: 6px;}
        .bits-8 .bits-6 {background-color: #333; height: 4px; left: 22px; top: 2px; width: 4px;}
        .bits-8 .bits-7 {background-color: #222; height: 4px; left: -21px; top: 66px; transform: rotate(95deg); width: 8px;}
        .bits-8 .bits-8 {background-color: #666; height: 4px; left: -14px; top: 15px; width: 4px;}
        .bits-9 .bits-0 {background-color: #333; height: 4px; left: 26px; top: 2px; width: 4px;}
        .bits-9 .bits-1 {background-color: #222; height: 8px; left: 25px; top: -11px; width: 8px;}
        .bits-9 .bits-2 {background-color: #333; height: 4px; left: -11px; top: -27px; width: 4px;}
        .bits-9 .bits-3 {background-color: #333; height: 4px; left: -27px; top: 5px; transform: rotate(129deg); width: 10px;}
        .bits-9 .bits-4 {background-color: #333; height: 4px; left: 15px; top: -29px; width: 4px;}
        .bits-9 .bits-5 {background-color: #222; height: 4px; left: -6px; top: 28px; transform: rotate(159deg); width: 6px;}
        .bits-9 .bits-6 {background-color: #333; height: 4px; left: -4px; top: 17px; width: 4px;}
        .bits-9 .bits-7 {background-color: #666; height: 4px; left: 12px; top: 25px; transform: rotate(48deg); width: 8px;}
        .bits-9 .bits-8 {background-color: #222; height: 4px; left: 15px; top: 16px; width: 4px;}
        .bits-10 .bits-0 {background-color: #666; height: 4px; left: -18px; top: -42px; width: 4px;}
        .bits-10 .bits-1 {background-color: #333; height: 8px; left: -27px; top: -15px; width: 8px;}
        .bits-10 .bits-2 {background-color: #333; height: 4px; left: 9px; top: 17px; width: 4px;}
        .bits-10 .bits-3 {background-color: #333; height: 4px; left: 10px; top: 18px; transform: rotate(138deg); width: 10px;}
        .bits-10 .bits-4 {background-color: #222; height: 4px; left: 13px; top: -15px; width: 4px;}
        .bits-10 .bits-5 {background-color: #666; height: 4px; left: 2px; top: -10px; transform: rotate(172deg); width: 6px;}
        .bits-10 .bits-6 {background-color: #333; height: 4px; left: 26px; top: 2px; width: 4px;}
        .bits-10 .bits-7 {background-color: #333; height: 4px; left: -11px; top: -27px; width: 4px;}
        .bits-10 .bits-8 {background-color: #333; height: 4px; left: -27px; top: 5px; transform: rotate(129deg); width: 10px;}
        .bits-11 .bits-0 {background-color: #333; height: 4px; left: 14px; top: -3px; width: 4px;}
        .bits-11 .bits-1 {background-color: #333; height: 4px; left: 8px; top: 10px; transform: rotate(35deg); width: 8px;}
        .bits-11 .bits-2 {background-color: #222; height: 4px; left: 25px; top: 17px; width: 4px;}
        .bits-11 .bits-3 {background-color: #333; height: 4px; left: -28px; top: 19px; transform: rotate(4deg); width: 10px;}
        .bits-11 .bits-4 {background-color: #333; height: 4px; left: -10px; top: -28px; width: 4px;}
        .bits-11 .bits-5 {background-color: #333; height: 4px; left: -7px; top: -2px; transform: rotate(106deg); width: 6px;}
        .bits-11 .bits-6 {background-color: #666; height: 4px; left: 34px; top: 48px; transform: rotate(138deg); width: 10px;}
        .bits-11 .bits-7 {background-color: #222; height: 4px; left: 13px; top: -15px; width: 4px;}
        .bits-11 .bits-8 {background-color: #222; height: 8px; left: 2px; top: -10px; width: 8px;}
        .bits-12 .bits-0 {background-color: #222; height: 4px; left: -18px; top: -13px; width: 4px;}
        .bits-12 .bits-1 {background-color: #333; height: 8px; left: -13px; top: -10px; width: 8px;}
        .bits-12 .bits-2 {background-color: #333; height: 4px; left: -20px; top: 4px; width: 4px;}
        .bits-12 .bits-3 {background-color: #666; height: 4px; left: -57px; top: 20px; transform: rotate(58deg); width: 10px;}
        .bits-12 .bits-4 {background-color: #333; height: 4px; left: 16px; top: 2px; width: 4px;}
        .bits-12 .bits-5 {background-color: #222; height: 4px; left: 4px; top: 14px; transform: rotate(59deg); width: 6px;}
        .bits-12 .bits-6 {background-color: #333; height: 4px; left: 8px; top: 0; transform: rotate(35deg); width: 8px;}
        .bits-12 .bits-7 {background-color: #222; height: 4px; left: 25px; top: 17px; width: 4px;}
        .bits-12 .bits-8 {background-color: #333; height: 4px; left: -28px; top: 19px; transform: rotate(4deg); width: 10px;}
        .bits-13 .bits-0 {background-color: #333; height: 4px; left: -18px; top: -27px; width: 4px;}
        .bits-13 .bits-1 {background-color: #666; height: 4px; left: -15px; top: 26px; transform: rotate(78deg); width: 8px;}
        .bits-13 .bits-2 {background-color: #333; height: 4px; left: 5px; top: -13px; width: 4px;}
        .bits-13 .bits-3 {background-color: #222; height: 4px; left: -15px; top: -29px; transform: rotate(108deg); width: 10px;}
        .bits-13 .bits-4 {background-color: #333; height: 4px; left: 44px; top: 24px; width: 4px;}
        .bits-13 .bits-5 {background-color: #333; height: 8px; left: 3px; top: -12px; width: 8px;}
        .bits-13 .bits-6 {background-color: #222; height: 4px; left: -18px; top: -73px; width: 4px;}
        .bits-13 .bits-7 {background-color: #333; height: 4px; left: -20px; top: 4px; width: 4px;}
        .bits-13 .bits-8 {background-color: #333; height: 4px; left: 16px; top: 12px; width: 4px;}
        .bits-14 .bits-0 {background-color: #333; height: 4px; left: 15px; top: -27px; width: 4px;}
        .bits-14 .bits-1 {background-color: #333; height: 8px; left: -23px; top: -2px; width: 8px;}
        .bits-14 .bits-2 {background-color: #222; height: 4px; left: 26px; top: 29px; width: 4px;}
        .bits-14 .bits-3 {background-color: #333; height: 4px; left: 28px; top: 17px; transform: rotate(174deg); width: 10px;}
        .bits-14 .bits-4 {background-color: #333; height: 4px; left: 19px; top: 16px; width: 4px;}
        .bits-14 .bits-5 {background-color: #666; height: 4px; left: -12px; top: -18px; transform: rotate(143deg); width: 6px;}
        .bits-14 .bits-6 {background-color: #333; height: 4px; left: -18px; top: -27px; width: 4px;}
        .bits-14 .bits-7 {background-color: #222; height: 4px; left: -15px; top: 26px; transform: rotate(78deg); width: 8px;}
        .bits-14 .bits-8 {background-color: #333; height: 4px; left: 5px; top: -13px; width: 4px;}
        .bits-15 .bits-0 {background-color: #333; height: 4px; left: 5px; top: 54px; width: 4px;}
        .bits-15 .bits-1 {background-color: #333; height: 8px; left: -15px; top: 5px; width: 8px;}
        .bits-15 .bits-2 {background-color: #333; height: 4px; left: -16px; top: 11px; width: 4px;}
        .bits-15 .bits-3 {background-color: #333; height: 4px; left: 3px; top: -12px; width: 4px;}
        .bits-15 .bits-4 {background-color: #333; height: 4px; left: 17px; top: -26px; width: 4px;}
        .bits-15 .bits-5 {background-color: #222; height: 4px; left: -11px; top: -13px; width: 4px;}
        .bits-15 .bits-6 {background-color: #333; height: 4px; left: -23px; top: -2px; width: 4px;}
        .bits-15 .bits-7 {background-color: #666; height: 4px; left: 28px; top: 17px; width: 4px;}
        .bits-15 .bits-8 {background-color: #333; height: 4px; left: -12px; top: -18px; width: 4px;}
        .bits-hidden div {
          background-color: #777;
          left: 0;
          top: 0;
        }
        .bits-transition div {
          transition-duration: 0.15s;
          transition-property: background-color, left, top;
          transition-timing-function: steps(10, jump-none);
        }
      .bounds,
      .bounds-container {
        height: 378px;
        position: absolute;
        width: 672px;
      }
      .bounds-container {
        background-color: #000;
        border-radius: 5px;
        overflow: hidden;
      }
      .element {
        display: block;
        position: absolute;
      }
      .enemy {
        background-color: #000;
        border-color: #777;
        border-radius: 60px;
        border-style: solid;
        border-width: 4px;
        height: 20px;
        transition-duration: 0.11s;
        transition-property: left, top;
        transition-timing-function: steps(15, jump-none);
        width: 20px;
        z-index: 4;
      }
        .enemy.hit {
          border-color: #ccc;
          z-index: 5;
        }
      .hidden {
        display: none;
      }
      .pieces {
        z-index: 1;
      }
        .pieces div {
          border-radius: 10px;
          position: absolute;
        }
        .pieces-0 .pieces-0 {background-color: #333; height: 4px; left: 9px; top: 39px; width: 4px;}
        .pieces-0 .pieces-1 {background-color: #333; height: 6px; left: 2px; top: 4px; width: 6px;}
        .pieces-0 .pieces-2 {background-color: #222; height: 4px; left: 23px; top: -21px; width: 4px;}
        .pieces-0 .pieces-3 {background-color: #222; height: 4px; left: -29px; top: -11px; transform: rotate(175deg); width: 10px;}
        .pieces-0 .pieces-4 {background-color: #444; height: 4px; left: -18px; top: -35px; width: 4px;}
        .pieces-0 .pieces-5 {background-color: #444; height: 4px; left: -20px; top: 31px; transform: rotate(28deg); width: 6px;}
        .pieces-0 .pieces-6 {background-color: #333; height: 4px; left: 19px; top: 3px; width: 4px;}
        .pieces-0 .pieces-7 {background-color: #333; height: 4px; left: -16px; top: 29px; width: 4px;}
        .pieces-0 .pieces-8 {background-color: #333; height: 4px; left: 16px; top: 27px; width: 4px;}
        .pieces-1 .pieces-0 {background-color: #444; height: 4px; left: 35px; top: 1px; width: 4px;}
        .pieces-1 .pieces-1 {background-color: #444; height: 4px; left: 39px; top: 22px; transform: rotate(113deg); width: 8px;}
        .pieces-1 .pieces-2 {background-color: #222; height: 4px; left: 32px; top: 26px; width: 4px;}
        .pieces-1 .pieces-3 {background-color: #444; height: 4px; left: 15px; top: -37px; transform: rotate(42deg); width: 10px;}
        .pieces-1 .pieces-4 {background-color: #444; height: 4px; left: 31px; top: -26px; width: 4px;}
        .pieces-1 .pieces-5 {background-color: #222; height: 6px; left: -3px; top: -8px; width: 6px;}
        .pieces-1 .pieces-6 {background-color: #333; height: 4px; left: 2px; top: 4px; transform: rotate(154deg); width: 8px;}
        .pieces-1 .pieces-7 {background-color: #222; height: 4px; left: 23px; top: -21px; width: 4px;}
        .pieces-1 .pieces-8 {background-color: #222; height: 4px; left: -29px; top: -11px; transform: rotate(175deg); width: 10px;}
        .pieces-2 .pieces-0 {background-color: #222; height: 4px; left: -2px; top: 8px; width: 4px;}
        .pieces-2 .pieces-1 {background-color: #333; height: 4px; left: 40px; top: 31px; transform: rotate(172deg); width: 8px;}
        .pieces-2 .pieces-2 {background-color: #222; height: 4px; left: -2px; top: 10px; width: 4px;}
        .pieces-2 .pieces-3 {background-color: #333; height: 4px; left: 21px; top: 1px; transform: rotate(93deg); width: 10px;}
        .pieces-2 .pieces-4 {background-color: #444; height: 4px; left: 27px; top: 4px; width: 4px;}
        .pieces-2 .pieces-5 {background-color: #333; height: 6px; left: 34px; top: 16px; width: 6px;}
        .pieces-2 .pieces-6 {background-color: #444; height: 4px; left: 39px; top: 22px; transform: rotate(113deg); width: 8px;}
        .pieces-2 .pieces-7 {background-color: #222; height: 4px; left: 32px; top: 26px; width: 4px;}
        .pieces-2 .pieces-8 {background-color: #444; height: 4px; left: 15px; top: -37px; transform: rotate(42deg); width: 10px;}
        .pieces-3 .pieces-0 {background-color: #333; height: 4px; left: 16px; top: -6px; width: 4px;}
        .pieces-3 .pieces-1 {background-color: #333; height: 4px; left: 29px; top: 28px; transform: rotate(112deg); width: 8px;}
        .pieces-3 .pieces-2 {background-color: #333; height: 4px; left: -24px; top: -25px; width: 4px;}
        .pieces-3 .pieces-3 {background-color: #222; height: 4px; left: 22px; top: -25px; transform: rotate(77deg); width: 10px;}
        .pieces-3 .pieces-4 {background-color: #222; height: 4px; left: 8px; top: -21px; width: 4px;}
        .pieces-3 .pieces-5 {background-color: #333; height: 6px; left: -17px; top: -16px; width: 6px;}
        .pieces-3 .pieces-6 {background-color: #333; height: 4px; left: 40px; top: 31px; transform: rotate(172deg); width: 8px;}
        .pieces-3 .pieces-7 {background-color: #222; height: 4px; left: -2px; top: 10px; width: 4px;}
        .pieces-3 .pieces-8 {background-color: #333; height: 4px; left: 21px; top: 1px; transform: rotate(93deg); width: 10px;}
        .pieces-4 .pieces-0 {background-color: #333; height: 4px; left: 40px; top: -15px; width: 4px;}
        .pieces-4 .pieces-1 {background-color: #333; height: 4px; left: 23px; top: 23px; transform: rotate(64deg); width: 8px;}
        .pieces-4 .pieces-2 {background-color: #333; height: 4px; left: 24px; top: 7px; width: 4px;}
        .pieces-4 .pieces-3 {background-color: #444; height: 4px; left: 22px; top: -28px; transform: rotate(102deg); width: 10px;}
        .pieces-4 .pieces-4 {background-color: #222; height: 4px; left: 9px; top: 26px; width: 4px;}
        .pieces-4 .pieces-5 {background-color: #222; height: 6px; left: 19px; top: -8px; width: 6px;}
        .pieces-4 .pieces-6 {background-color: #333; height: 4px; left: 16px; top: -6px; width: 4px;}
        .pieces-4 .pieces-7 {background-color: #333; height: 4px; left: 29px; top: 28px; transform: rotate(112deg); width: 8px;}
        .pieces-4 .pieces-8 {background-color: #333; height: 4px; left: -24px; top: -25px; width: 4px;}
        .pieces-5 .pieces-0 {background-color: #444; height: 4px; left: 27px; top: -9px; width: 4px;}
        .pieces-5 .pieces-1 {background-color: #444; height: 4px; left: 2px; top: -8px; transform: rotate(139deg); width: 8px;}
        .pieces-5 .pieces-2 {background-color: #444; height: 4px; left: 16px; top: 22px; width: 4px;}
        .pieces-5 .pieces-3 {background-color: #444; height: 4px; left: -1px; top: -6px; transform: rotate(138deg); width: 10px;}
        .pieces-5 .pieces-4 {background-color: #222; height: 6px; left: -33px; top: -36px; width: 6px;}
        .pieces-5 .pieces-5 {background-color: #444; height: 4px; left: 9px; top: -36px; transform: rotate(80deg); width: 6px;}
        .pieces-5 .pieces-6 {background-color: #333; height: 4px; left: 23px; top: 23px; transform: rotate(64deg); width: 8px;}
        .pieces-5 .pieces-7 {background-color: #333; height: 4px; left: 24px; top: 7px; width: 4px;}
        .pieces-5 .pieces-8 {background-color: #444; height: 4px; left: 22px; top: -28px; transform: rotate(102deg); width: 10px;}
        .pieces-6 .pieces-0 {background-color: #222; height: 4px; left: 25px; top: -25px; width: 4px;}
        .pieces-6 .pieces-1 {background-color: #222; height: 4px; left: -5px; top: 26px; transform: rotate(4deg); width: 8px;}
        .pieces-6 .pieces-2 {background-color: #333; height: 4px; left: 7px; top: -12px; width: 4px;}
        .pieces-6 .pieces-3 {background-color: #333; height: 6px; left: -7px; top: -19px; width: 6px;}
        .pieces-6 .pieces-4 {background-color: #333; height: 4px; left: -16px; top: -11px; width: 4px;}
        .pieces-6 .pieces-5 {background-color: #444; height: 4px; left: 39px; top: -11px; transform: rotate(25deg); width: 6px;}
        .pieces-6 .pieces-6 {background-color: #444; height: 4px; left: 16px; top: 22px; width: 4px;}
        .pieces-6 .pieces-7 {background-color: #222; height: 4px; left: -33px; top: -36px; width: 4px;}
        .pieces-6 .pieces-8 {background-color: #444; height: 4px; left: 9px; top: -36px; transform: rotate(80deg); width: 6px;}
        .pieces-7 .pieces-0 {background-color: #333; height: 4px; left: 22px; top: 2px; width: 4px;}
        .pieces-7 .pieces-1 {background-color: #222; height: 6px; left: -21px; top: 26px; width: 6px;}
        .pieces-7 .pieces-2 {background-color: #444; height: 4px; left: -14px; top: 35px; width: 4px;}
        .pieces-7 .pieces-3 {background-color: #555; height: 4px; left: -16px; top: 21px; width: 4px;}
        .pieces-7 .pieces-4 {background-color: #333; height: 4px; left: -40px; top: -26px; width: 4px;}
        .pieces-7 .pieces-5 {background-color: #444; height: 4px; left: 33px; top: -5px; width: 4px;}
        .pieces-7 .pieces-6 {background-color: #222; height: 4px; left: -5px; top: 26px; width: 4px;}
        .pieces-7 .pieces-7 {background-color: #333; height: 4px; left: -7px; top: -19px; width: 4px;}
        .pieces-7 .pieces-8 {background-color: #444; height: 4px; left: 39px; top: -11px; width: 4px;}
        .pieces-8 .pieces-0 {background-color: #444; height: 4px; left: -4px; top: 37px; width: 4px;}
        .pieces-8 .pieces-1 {background-color: #444; height: 4px; left: 12px; top: 25px; transform: rotate(48deg); width: 8px;}
        .pieces-8 .pieces-2 {background-color: #222; height: 4px; left: 35px; top: 36px; width: 4px;}
        .pieces-8 .pieces-3 {background-color: #333; height: 4px; left: 20px; top: 2px; transform: rotate(96deg); width: 10px;}
        .pieces-8 .pieces-4 {background-color: #333; height: 4px; left: 7px; top: -12px; width: 4px;}
        .pieces-8 .pieces-5 {background-color: #222; height: 6px; left: 18px; top: -16px; width: 6px;}
        .pieces-8 .pieces-6 {background-color: #333; height: 4px; left: 22px; top: 2px; width: 4px;}
        .pieces-8 .pieces-7 {background-color: #222; height: 4px; left: -21px; top: 26px; transform: rotate(95deg); width: 8px;}
        .pieces-8 .pieces-8 {background-color: #444; height: 4px; left: -14px; top: 35px; width: 4px;}
        .pieces-9 .pieces-0 {background-color: #444; height: 4px; left: 26px; top: 2px; width: 4px;}
        .pieces-9 .pieces-1 {background-color: #222; height: 6px; left: 25px; top: -31px; width: 6px;}
        .pieces-9 .pieces-2 {background-color: #333; height: 4px; left: -11px; top: -27px; width: 4px;}
        .pieces-9 .pieces-3 {background-color: #444; height: 4px; left: -27px; top: 5px; transform: rotate(129deg); width: 10px;}
        .pieces-9 .pieces-4 {background-color: #333; height: 4px; left: 15px; top: -29px; width: 4px;}
        .pieces-9 .pieces-5 {background-color: #222; height: 4px; left: -6px; top: 28px; transform: rotate(159deg); width: 6px;}
        .pieces-9 .pieces-6 {background-color: #444; height: 4px; left: -4px; top: 37px; width: 4px;}
        .pieces-9 .pieces-7 {background-color: #444; height: 4px; left: 12px; top: 25px; transform: rotate(48deg); width: 8px;}
        .pieces-9 .pieces-8 {background-color: #222; height: 4px; left: 35px; top: 36px; width: 4px;}
        .pieces-10 .pieces-0 {background-color: #333; height: 4px; left: -38px; top: -32px; width: 4px;}
        .pieces-10 .pieces-1 {background-color: #444; height: 4px; left: -27px; top: -15px; transform: rotate(105deg); width: 8px;}
        .pieces-10 .pieces-2 {background-color: #333; height: 4px; left: 9px; top: 17px; width: 4px;}
        .pieces-10 .pieces-3 {background-color: #333; height: 6px; left: 40px; top: 38px; width: 6px;}
        .pieces-10 .pieces-4 {background-color: #222; height: 4px; left: 13px; top: -35px; width: 4px;}
        .pieces-10 .pieces-5 {background-color: #222; height: 4px; left: 2px; top: -10px; transform: rotate(172deg); width: 6px;}
        .pieces-10 .pieces-6 {background-color: #444; height: 4px; left: 26px; top: 2px; width: 4px;}
        .pieces-10 .pieces-7 {background-color: #333; height: 4px; left: -11px; top: -27px; width: 4px;}
        .pieces-10 .pieces-8 {background-color: #444; height: 4px; left: -27px; top: 5px; transform: rotate(129deg); width: 10px;}
        .pieces-11 .pieces-0 {background-color: #333; height: 4px; left: 34px; top: -30px; width: 4px;}
        .pieces-11 .pieces-1 {background-color: #444; height: 4px; left: 8px; top: 30px; transform: rotate(35deg); width: 8px;}
        .pieces-11 .pieces-2 {background-color: #222; height: 4px; left: 25px; top: 37px; width: 4px;}
        .pieces-11 .pieces-3 {background-color: #333; height: 4px; left: -28px; top: 39px; transform: rotate(4deg); width: 10px;}
        .pieces-11 .pieces-4 {background-color: #444; height: 4px; left: -40px; top: -28px; width: 4px;}
        .pieces-11 .pieces-5 {background-color: #444; height: 4px; left: -7px; top: -32px; transform: rotate(106deg); width: 6px;}
        .pieces-11 .pieces-6 {background-color: #333; height: 4px; left: 40px; top: 38px; transform: rotate(138deg); width: 10px;}
        .pieces-11 .pieces-7 {background-color: #222; height: 4px; left: 13px; top: -35px; width: 4px;}
        .pieces-11 .pieces-8 {background-color: #222; height: 6px; left: 2px; top: -10px; width: 6px;}
        .pieces-12 .pieces-0 {background-color: #222; height: 4px; left: -18px; top: -13px; width: 4px;}
        .pieces-12 .pieces-1 {background-color: #555; height: 4px; left: -13px; top: -40px; transform: rotate(116deg); width: 8px;}
        .pieces-12 .pieces-2 {background-color: #333; height: 4px; left: -20px; top: 4px; width: 4px;}
        .pieces-12 .pieces-3 {background-color: #444; height: 4px; left: -37px; top: 20px; transform: rotate(58deg); width: 10px;}
        .pieces-12 .pieces-4 {background-color: #444; height: 4px; left: 16px; top: 12px; width: 4px;}
        .pieces-12 .pieces-5 {background-color: #222; height: 6px; left: 4px; top: 24px; width: 6px;}
        .pieces-12 .pieces-6 {background-color: #444; height: 4px; left: 8px; top: 30px; transform: rotate(35deg); width: 8px;}
        .pieces-12 .pieces-7 {background-color: #222; height: 4px; left: 25px; top: 37px; width: 4px;}
        .pieces-12 .pieces-8 {background-color: #333; height: 4px; left: -28px; top: 39px; transform: rotate(4deg); width: 10px;}
        .pieces-13 .pieces-0 {background-color: #333; height: 4px; left: -18px; top: -27px; width: 4px;}
        .pieces-13 .pieces-1 {background-color: #222; height: 4px; left: -35px; top: 26px; transform: rotate(78deg); width: 8px;}
        .pieces-13 .pieces-2 {background-color: #444; height: 4px; left: 5px; top: -13px; width: 4px;}
        .pieces-13 .pieces-3 {background-color: #222; height: 6px; left: -15px; top: -29px; width: 6px;}
        .pieces-13 .pieces-4 {background-color: #444; height: 4px; left: 34px; top: 24px; width: 4px;}
        .pieces-13 .pieces-5 {background-color: #444; height: 4px; left: 3px; top: -32px; transform: rotate(139deg); width: 6px;}
        .pieces-13 .pieces-6 {background-color: #222; height: 4px; left: -18px; top: -13px; width: 4px;}
        .pieces-13 .pieces-7 {background-color: #333; height: 4px; left: -20px; top: 4px; width: 4px;}
        .pieces-13 .pieces-8 {background-color: #444; height: 4px; left: 16px; top: 12px; width: 4px;}
        .pieces-14 .pieces-0 {background-color: #444; height: 4px; left: 15px; top: -27px; width: 4px;}
        .pieces-14 .pieces-1 {background-color: #444; height: 4px; left: -23px; top: -2px; transform: rotate(91deg); width: 8px;}
        .pieces-14 .pieces-2 {background-color: #222; height: 4px; left: 26px; top: 29px; width: 4px;}
        .pieces-14 .pieces-3 {background-color: #444; height: 4px; left: 28px; top: 37px; transform: rotate(174deg); width: 10px;}
        .pieces-14 .pieces-4 {background-color: #444; height: 4px; left: 39px; top: 16px; width: 4px;}
        .pieces-14 .pieces-5 {background-color: #333; height: 6px; left: -12px; top: -38px; width: 6px;}
        .pieces-14 .pieces-6 {background-color: #333; height: 4px; left: -18px; top: -27px; width: 4px;}
        .pieces-14 .pieces-7 {background-color: #222; height: 4px; left: -35px; top: 26px; transform: rotate(78deg); width: 8px;}
        .pieces-14 .pieces-8 {background-color: #444; height: 4px; left: 5px; top: -13px; width: 4px;}
        .pieces-15 .pieces-0 {background-color: #333; height: 4px; left: 5px; top: 24px; width: 4px;}
        .pieces-15 .pieces-1 {background-color: #333; height: 4px; left: -35px; top: 5px; width: 4px;}
        .pieces-15 .pieces-2 {background-color: #333; height: 4px; left: -36px; top: 11px; width: 4px;}
        .pieces-15 .pieces-3 {background-color: #333; height: 4px; left: 3px; top: -32px; width: 4px;}
        .pieces-15 .pieces-4 {background-color: #333; height: 4px; left: 17px; top: -26px; width: 4px;}
        .pieces-15 .pieces-5 {background-color: #222; height: 4px; left: -11px; top: -33px; width: 4px;}
        .pieces-15 .pieces-6 {background-color: #444; height: 4px; left: -23px; top: -2px; width: 4px;}
        .pieces-15 .pieces-7 {background-color: #444; height: 4px; left: 28px; top: 37px; width: 4px;}
        .pieces-15 .pieces-8 {background-color: #333; height: 6px; left: -12px; top: -38px; width: 6px;}
        .pieces-hidden div {
          background-color: #222;
          left: 0;
          top: 0;
        }
        .pieces-transition {
          transition-duration: 0.3s;
          transition-property: background-color, left, top;
          transition-timing-function: steps(10, jump-none);
        }
      .player {
        border-color: #fff;
        border-radius: 20px;
        border-style: solid;
        border-width: 4px;
        height: 20px;
        width: 20px;
      }
        .player[recoil="0"] {margin-top: -2px;}
        .player[recoil="1"] {margin-top: 2px;}
        .player[recoil="2"] {margin-left: -3px;}
        .player[recoil="3"] {margin-left: 3px;}
      .player,
      .player-weapon {
        background-color: #000;
        z-index: 6;
      }
      .player-weapon {
        border-color: #fff;
        border-radius: 8px;
        border-style: solid;
        border-width: 4px;
        height: 4px;
        left: -12px;
        transition-duration: 0.05s;
        transition-property: margin-left, margin-top;
        transition-timing-function: steps(10, jump-none);
        width: 4px;
      }
        .player-weapon[reload="0"] {margin-left: -8px; margin-top: -10px;}
        .player-weapon[reload="1"] {margin-left: 8px; margin-top: -6px;}
        .player-weapon[reload="2"] {margin-left: -9px; margin-top: 6px;}
        .player-weapon[reload="3"] {margin-left: 10px; margin-top: 6px;}
      .player-weapon-effect {
        background-color: #ddd;
        border-radius: 8px;
        border-style: none;
        height: 4px;
        margin-left: 2px;
        margin-top: 2px;
        width: 4px;
        z-index: 5;
      }
      .player-weapon-muzzle-flash {
        background-color: #888;
        border-radius: 128px;
        border-style: none;
        height: 0;
        width: 0;
        z-index: 4;
      }
      .player-weapon-projectile {
        background-color: #fff;
        border-style: none;
        border-radius: 16px;
        height: 8px;
        width: 8px;
        z-index: 5;
      }
      .splatter {
        z-index: 2;
      }
        .splatter div {
          border-radius: 10px;
          position: absolute;
        }
        .splatter-0 .splatter-0 {background-color: #333; height: 4px; left: 18px; top: 38px; width: 4px;}
        .splatter-0 .splatter-1 {background-color: #222; height: 4px; left: 4px; top: 8px; transform: rotate(154deg); width: 8px;}
        .splatter-0 .splatter-2 {background-color: #222; height: 4px; left: 46px; top: -22px; width: 4px;}
        .splatter-0 .splatter-3 {background-color: #222; height: 4px; left: -58px; top: -22px; transform: rotate(175deg); width: 10px;}
        .splatter-0 .splatter-4 {background-color: #333; height: 4px; left: -58px; top: -30px; width: 4px;}
        .splatter-0 .splatter-5 {background-color: #222; height: 4px; left: -40px; top: 22px; transform: rotate(28deg); width: 6px;}
        .splatter-0 .splatter-6 {background-color: #333; height: 4px; left: -108px; top: 20px; width: 4px;}
        .splatter-0 .splatter-7 {background-color: #333; height: 4px; left: 35px; top: 29px; width: 4px;}
        .splatter-0 .splatter-8 {background-color: #333; height: 4px; left: -87px; top: 30px; width: 4px;}
        .splatter-1 .splatter-0 {background-color: #222; height: 4px; left: 65px; top: 22px; width: 4px;}
        .splatter-1 .splatter-1 {background-color: #333; height: 4px; left: 39px; top: 62px; transform: rotate(113deg); width: 8px;}
        .splatter-1 .splatter-2 {background-color: #222; height: 4px; left: 24px; top: 112px; width: 4px;}
        .splatter-1 .splatter-3 {background-color: #222; height: 4px; left: 55px; top: -47px; transform: rotate(42deg); width: 10px;}
        .splatter-1 .splatter-4 {background-color: #333; height: 4px; left: 81px; top: -16px; width: 4px;}
        .splatter-1 .splatter-5 {background-color: #222; height: 4px; left: -31px; top: -18px; transform: rotate(113deg); width: 6px;}
        .splatter-1 .splatter-6 {background-color: #333; height: 4px; left: 20px; top: 74px; transform: rotate(154deg); width: 8px;}
        .splatter-1 .splatter-7 {background-color: #222; height: 4px; left: 53px; top: -21px; width: 4px;}
        .splatter-1 .splatter-8 {background-color: #222; height: 4px; left: -29px; top: -111px; transform: rotate(175deg); width: 10px;}
        .splatter-2 .splatter-0 {background-color: #222; height: 4px; left: -2px; top: 8px; width: 4px;}
        .splatter-2 .splatter-1 {background-color: #222; height: 4px; left: 10px; top: 11px; transform: rotate(172deg); width: 8px;}
        .splatter-2 .splatter-2 {background-color: #222; height: 4px; left: -2px; top: 10px; width: 4px;}
        .splatter-2 .splatter-3 {background-color: #333; height: 4px; left: 21px; top: 1px; transform: rotate(93deg); width: 10px;}
        .splatter-2 .splatter-4 {background-color: #333; height: 4px; left: 20px; top: 4px; width: 4px;}
        .splatter-2 .splatter-5 {background-color: #222; height: 4px; left: 14px; top: 16px; transform: rotate(158deg); width: 6px;}
        .splatter-2 .splatter-6 {background-color: #333; height: 4px; left: 19px; top: 42px; transform: rotate(113deg); width: 8px;}
        .splatter-2 .splatter-7 {background-color: #222; height: 4px; left: 12px; top: 26px; width: 4px;}
        .splatter-2 .splatter-8 {background-color: #222; height: 4px; left: 15px; top: -17px; transform: rotate(42deg); width: 10px;}
        .splatter-3 .splatter-0 {background-color: #333; height: 4px; left: 16px; top: -6px; width: 4px;}
        .splatter-3 .splatter-1 {background-color: #333; height: 4px; left: 19px; top: 18px; transform: rotate(112deg); width: 8px;}
        .splatter-3 .splatter-2 {background-color: #222; height: 4px; left: -24px; top: -25px; width: 4px;}
        .splatter-3 .splatter-3 {background-color: #333; height: 4px; left: 22px; top: -55px; transform: rotate(77deg); width: 10px;}
        .splatter-3 .splatter-4 {background-color: #222; height: 4px; left: 8px; top: -21px; width: 4px;}
        .splatter-3 .splatter-5 {background-color: #333; height: 4px; left: -17px; top: -16px; transform: rotate(155deg); width: 6px;}
        .splatter-3 .splatter-6 {background-color: #333; height: 4px; left: 10px; top: 11px; transform: rotate(172deg); width: 8px;}
        .splatter-3 .splatter-7 {background-color: #222; height: 4px; left: -2px; top: 10px; width: 4px;}
        .splatter-3 .splatter-8 {background-color: #333; height: 4px; left: 21px; top: 1px; transform: rotate(93deg); width: 10px;}
        .splatter-4 .splatter-0 {background-color: #333; height: 4px; left: 10px; top: -15px; width: 4px;}
        .splatter-4 .splatter-1 {background-color: #333; height: 4px; left: 23px; top: 23px; transform: rotate(64deg); width: 8px;}
        .splatter-4 .splatter-2 {background-color: #333; height: 4px; left: 24px; top: 7px; width: 4px;}
        .splatter-4 .splatter-3 {background-color: #222; height: 4px; left: 22px; top: -28px; transform: rotate(102deg); width: 10px;}
        .splatter-4 .splatter-4 {background-color: #222; height: 4px; left: 9px; top: 16px; width: 4px;}
        .splatter-4 .splatter-5 {background-color: #222; height: 4px; left: 19px; top: -8px; transform: rotate(132deg); width: 6px;}
        .splatter-4 .splatter-6 {background-color: #333; height: 4px; left: 16px; top: -96px; width: 4px;}
        .splatter-4 .splatter-7 {background-color: #333; height: 4px; left: 29px; top: 58px; transform: rotate(112deg); width: 8px;}
        .splatter-4 .splatter-8 {background-color: #222; height: 4px; left: -24px; top: -145px; width: 4px;}
        .splatter-5 .splatter-0 {background-color: #333; height: 4px; left: 27px; top: -9px; width: 4px;}
        .splatter-5 .splatter-1 {background-color: #333; height: 4px; left: 2px; top: -8px; transform: rotate(139deg); width: 8px;}
        .splatter-5 .splatter-2 {background-color: #222; height: 4px; left: 16px; top: 22px; width: 4px;}
        .splatter-5 .splatter-3 {background-color: #222; height: 4px; left: -1px; top: -6px; transform: rotate(138deg); width: 10px;}
        .splatter-5 .splatter-4 {background-color: #222; height: 4px; left: -13px; top: -46px; width: 4px;}
        .splatter-5 .splatter-5 {background-color: #333; height: 4px; left: 9px; top: -16px; transform: rotate(80deg); width: 6px;}
        .splatter-5 .splatter-6 {background-color: #333; height: 4px; left: 23px; top: 23px; transform: rotate(64deg); width: 8px;}
        .splatter-5 .splatter-7 {background-color: #333; height: 4px; left: 24px; top: 7px; width: 4px;}
        .splatter-5 .splatter-8 {background-color: #333; height: 4px; left: 22px; top: -28px; transform: rotate(102deg); width: 10px;}
        .splatter-6 .splatter-0 {background-color: #333; height: 4px; left: 25px; top: -25px; width: 4px;}
        .splatter-6 .splatter-1 {background-color: #222; height: 4px; left: -5px; top: 26px; transform: rotate(4deg); width: 8px;}
        .splatter-6 .splatter-2 {background-color: #222; height: 4px; left: 7px; top: -72px; width: 4px;}
        .splatter-6 .splatter-3 {background-color: #222; height: 4px; left: -7px; top: -19px; transform: rotate(109deg); width: 10px;}
        .splatter-6 .splatter-4 {background-color: #333; height: 4px; left: -16px; top: -11px; width: 4px;}
        .splatter-6 .splatter-5 {background-color: #333; height: 4px; left: 149px; top: -11px; transform: rotate(25deg); width: 6px;}
        .splatter-6 .splatter-6 {background-color: #333; height: 4px; left: 56px; top: 82px; width: 4px;}
        .splatter-6 .splatter-7 {background-color: #222; height: 4px; left: -33px; top: -16px; width: 4px;}
        .splatter-6 .splatter-8 {background-color: #333; height: 4px; left: 99px; top: -116px; transform: rotate(80deg); width: 6px;}
        .splatter-7 .splatter-0 {background-color: #333; height: 4px; left: 222px; top: 2px; width: 4px;}
        .splatter-7 .splatter-1 {background-color: #222; height: 4px; left: -51px; top: 26px; width: 4px;}
        .splatter-7 .splatter-2 {background-color: #333; height: 8px; left: -14px; top: 25px; width: 8px;}
        .splatter-7 .splatter-3 {background-color: #333; height: 4px; left: -16px; top: 21px; width: 4px;}
        .splatter-7 .splatter-4 {background-color: #222; height: 4px; left: -10px; top: -26px; width: 4px;}
        .splatter-7 .splatter-5 {background-color: #333; height: 4px; left: 13px; top: -5px; width: 4px;}
        .splatter-7 .splatter-6 {background-color: #222; height: 4px; left: -5px; top: 26px; width: 4px;}
        .splatter-7 .splatter-7 {background-color: #333; height: 4px; left: -7px; top: -19px; width: 4px;}
        .splatter-7 .splatter-8 {background-color: #222; height: 4px; left: 19px; top: -11px; width: 4px;}
        .splatter-8 .splatter-0 {background-color: #222; height: 4px; left: -74px; top: 17px; width: 4px;}
        .splatter-8 .splatter-1 {background-color: #333; height: 4px; left: 52px; top: 125px; transform: rotate(48deg); width: 8px;}
        .splatter-8 .splatter-2 {background-color: #222; height: 4px; left: 15px; top: 16px; width: 4px;}
        .splatter-8 .splatter-3 {background-color: #222; height: 4px; left: 20px; top: 2px; transform: rotate(96deg); width: 10px;}
        .splatter-8 .splatter-4 {background-color: #222; height: 4px; left: 77px; top: -12px; width: 4px;}
        .splatter-8 .splatter-5 {background-color: #222; height: 4px; left: 98px; top: -16px; transform: rotate(44deg); width: 6px;}
        .splatter-8 .splatter-6 {background-color: #333; height: 4px; left: 22px; top: 112px; width: 4px;}
        .splatter-8 .splatter-7 {background-color: #222; height: 4px; left: -21px; top: 66px; transform: rotate(95deg); width: 8px;}
        .splatter-8 .splatter-8 {background-color: #333; height: 4px; left: -114px; top: 15px; width: 4px;}
        .splatter-9 .splatter-0 {background-color: #222; height: 4px; left: 26px; top: 92px; width: 4px;}
        .splatter-9 .splatter-1 {background-color: #222; height: 4px; left: 25px; top: -11px; transform: rotate(69deg); width: 8px;}
        .splatter-9 .splatter-2 {background-color: #333; height: 4px; left: -11px; top: -27px; width: 4px;}
        .splatter-9 .splatter-3 {background-color: #222; height: 4px; left: -27px; top: 5px; transform: rotate(129deg); width: 10px;}
        .splatter-9 .splatter-4 {background-color: #333; height: 4px; left: 15px; top: -29px; width: 4px;}
        .splatter-9 .splatter-5 {background-color: #222; height: 4px; left: -6px; top: 28px; transform: rotate(159deg); width: 6px;}
        .splatter-9 .splatter-6 {background-color: #222; height: 4px; left: -4px; top: 87px; width: 4px;}
        .splatter-9 .splatter-7 {background-color: #222; height: 4px; left: 12px; top: 25px; transform: rotate(48deg); width: 8px;}
        .splatter-9 .splatter-8 {background-color: #222; height: 4px; left: 115px; top: 16px; width: 4px;}
        .splatter-10 .splatter-0 {background-color: #333; height: 4px; left: -18px; top: -42px; width: 4px;}
        .splatter-10 .splatter-1 {background-color: #222; height: 4px; left: -57px; top: -15px; transform: rotate(105deg); width: 8px;}
        .splatter-10 .splatter-2 {background-color: #333; height: 4px; left: 9px; top: 47px; width: 4px;}
        .splatter-10 .splatter-3 {background-color: #222; height: 4px; left: 100px; top: 18px; transform: rotate(138deg); width: 10px;}
        .splatter-10 .splatter-4 {background-color: #222; height: 4px; left: 13px; top: -15px; width: 4px;}
        .splatter-10 .splatter-5 {background-color: #333; height: 4px; left: 2px; top: -10px; transform: rotate(172deg); width: 6px;}
        .splatter-10 .splatter-6 {background-color: #222; height: 4px; left: 26px; top: 2px; width: 4px;}
        .splatter-10 .splatter-7 {background-color: #333; height: 4px; left: -11px; top: -27px; width: 4px;}
        .splatter-10 .splatter-8 {background-color: #222; height: 4px; left: -27px; top: 5px; transform: rotate(129deg); width: 10px;}
        .splatter-11 .splatter-0 {background-color: #222; height: 4px; left: 14px; top: -3px; width: 4px;}
        .splatter-11 .splatter-1 {background-color: #333; height: 4px; left: 8px; top: 10px; transform: rotate(35deg); width: 8px;}
        .splatter-11 .splatter-2 {background-color: #222; height: 4px; left: 25px; top: 17px; width: 4px;}
        .splatter-11 .splatter-3 {background-color: #333; height: 4px; left: -28px; top: 19px; transform: rotate(4deg); width: 10px;}
        .splatter-11 .splatter-4 {background-color: #333; height: 4px; left: -110px; top: -28px; width: 4px;}
        .splatter-11 .splatter-5 {background-color: #333; height: 4px; left: -17px; top: -112px; transform: rotate(106deg); width: 6px;}
        .splatter-11 .splatter-6 {background-color: #222; height: 4px; left: 34px; top: 48px; transform: rotate(138deg); width: 10px;}
        .splatter-11 .splatter-7 {background-color: #222; height: 4px; left: 13px; top: -115px; width: 4px;}
        .splatter-11 .splatter-8 {background-color: #222; height: 4px; left: 2px; top: -10px; transform: rotate(172deg); width: 6px;}
        .splatter-12 .splatter-0 {background-color: #222; height: 4px; left: -18px; top: -13px; width: 4px;}
        .splatter-12 .splatter-1 {background-color: #333; height: 4px; left: -13px; top: -10px; transform: rotate(116deg); width: 8px;}
        .splatter-12 .splatter-2 {background-color: #222; height: 4px; left: -200px; top: 14px; width: 4px;}
        .splatter-12 .splatter-3 {background-color: #333; height: 4px; left: -57px; top: 20px; transform: rotate(58deg); width: 10px;}
        .splatter-12 .splatter-4 {background-color: #222; height: 4px; left: 16px; top: 92px; width: 4px;}
        .splatter-12 .splatter-5 {background-color: #222; height: 4px; left: 64px; top: 14px; transform: rotate(59deg); width: 6px;}
        .splatter-12 .splatter-6 {background-color: #222; height: 4px; left: 18px; transform: rotate(35deg); width: 8px;}
        .splatter-12 .splatter-7 {background-color: #222; height: 4px; left: 25px; top: 117px; width: 4px;}
        .splatter-12 .splatter-8 {background-color: #333; height: 4px; left: -28px; top: 19px; transform: rotate(4deg); width: 10px;}
        .splatter-13 .splatter-0 {background-color: #222; height: 4px; left: -18px; top: -27px; width: 4px;}
        .splatter-13 .splatter-1 {background-color: #333; height: 4px; left: -15px; top: 26px; transform: rotate(78deg); width: 8px;}
        .splatter-13 .splatter-2 {background-color: #222; height: 4px; left: 75px; top: -13px; width: 4px;}
        .splatter-13 .splatter-3 {background-color: #222; height: 4px; left: -85px; top: -29px; transform: rotate(108deg); width: 10px;}
        .splatter-13 .splatter-4 {background-color: #222; height: 4px; left: 74px; top: 74px; width: 4px;}
        .splatter-13 .splatter-5 {background-color: #333; height: 4px; left: 63px; top: -12px; transform: rotate(139deg); width: 6px;}
        .splatter-13 .splatter-6 {background-color: #222; height: 4px; left: -118px; top: -73px; width: 4px;}
        .splatter-13 .splatter-7 {background-color: #333; height: 4px; left: -20px; top: 114px; width: 4px;}
        .splatter-13 .splatter-8 {background-color: #222; height: 4px; left: 116px; top: 112px; width: 4px;}
        .splatter-14 .splatter-0 {background-color: #333; height: 4px; left: 35px; top: -27px; width: 4px;}
        .splatter-14 .splatter-1 {background-color: #222; height: 4px; left: -123px; top: -32px; transform: rotate(91deg); width: 8px;}
        .splatter-14 .splatter-2 {background-color: #222; height: 4px; left: 76px; top: 129px; width: 4px;}
        .splatter-14 .splatter-3 {background-color: #333; height: 4px; left: 28px; top: 57px; transform: rotate(174deg); width: 10px;}
        .splatter-14 .splatter-4 {background-color: #333; height: 4px; left: 89px; top: 160px; width: 4px;}
        .splatter-14 .splatter-5 {background-color: #222; height: 4px; left: -12px; top: -58px; transform: rotate(143deg); width: 6px;}
        .splatter-14 .splatter-6 {background-color: #333; height: 4px; left: -118px; top: -27px; width: 4px;}
        .splatter-14 .splatter-7 {background-color: #222; height: 4px; left: -15px; top: 26px; transform: rotate(78deg); width: 8px;}
        .splatter-14 .splatter-8 {background-color: #333; height: 4px; left: 5px; top: -53px; width: 4px;}
        .splatter-15 .splatter-0 {background-color: #333; height: 4px; left: 25px; top: 54px; width: 4px;}
        .splatter-15 .splatter-1 {background-color: #222; height: 4px; left: -45px; top: 5px; width: 4px;}
        .splatter-15 .splatter-2 {background-color: #222; height: 4px; left: -36px; top: 41px; width: 4px;}
        .splatter-15 .splatter-3 {background-color: #333; height: 8px; left: 3px; top: -82px; width: 8px;}
        .splatter-15 .splatter-4 {background-color: #333; height: 4px; left: 17px; top: -66px; width: 4px;}
        .splatter-15 .splatter-5 {background-color: #222; height: 4px; left: -61px; top: -13px; width: 4px;}
        .splatter-15 .splatter-6 {background-color: #333; height: 4px; left: -23px; top: -72px; width: 4px;}
        .splatter-15 .splatter-7 {background-color: #222; height: 4px; left: 28px; top: 97px; width: 4px;}
        .splatter-15 .splatter-8 {background-color: #333; height: 4px; left: -68px; top: -48px; width: 4px;}
        .splatter-hidden div {
          background-color: #777;
          left: 0;
          top: 0;
        }
        .splatter-transition div {
          transition-duration: 0.08s;
          transition-property: background-color, left, top;
          transition-timing-function: steps(10, jump-none);
        }
      .title-screen {
        cursor: default;
      }
        .title-screen p {
          color: #fff;
          font-size: 12px;
          font-weight: bold;
          letter-spacing: -0.1px;
          position: absolute;
          text-align: center;
          text-transform: uppercase;
          top: 182px;
          width: 100%;
          z-index: 7;
        }
      .wave-cleanup {
        background-color: #000;
        border-right: 4px solid #555;
        left: -10px;
        z-index: 3;
      }
    </style>
  </head>
  <body>
    <div class="bounds-container">
      <div class="bounds">
        <div class="title-screen">
          <p class="prompt">Press an Arrow Key To Play Contrivity</p>
        </div>
      </div>
    </div>
  </body>
  <script type="text/javascript">
    "use strict"

    let enemies_count = 0
    let enemy_offsets_map_horizontal = Array(48)
    let enemy_offsets_map_vertical = Array(57)
    let has_player_weapon_reload_state = false
    let has_player_weapon_use_state = false
    let player_offset_left = 322
    let player_offset_top = 175
    let player_weapon_ammunition
    let player_weapon_delay
    let player_weapon_delay_maximum
    let player_weapon_equipped
    let player_weapon_muzzle_flash_element
    let player_weapon_offset_increment_left = -17
    let player_weapon_offset_increment_top = -17
    let player_weapon_offset_left = 313
    let player_weapon_offset_top = 166
    let player_weapon_use_id
    let randomized_state = Date.now() & 65535
    let randomized_state_offset = 0
    let wave_cleanup_id = 0
    const bounds_container_element = document.querySelector(".bounds-container")
    const bounds_element = document.querySelector(".bounds")
    const enemy_bits_elements = Array(32)
    const enemy_elements = Array(16)
    const enemy_healths = Array(16)

    const enemy_hit = function(
      enemy_damage,
      enemy_id,
      enemy_knockback_offset_increment_left,
      enemy_knockback_offset_increment_top
    ) {
      if (
        enemy_knockback_offset_increment_left != 0 ||
        enemy_knockback_offset_increment_top != 0
      ) {
        has_enemy_knockback_states[enemy_id] = true
      }

      enemy_elements[enemy_id].classList.add("hit")

      setTimeout(function() {
        enemy_elements[enemy_id].classList.remove("hit")
      }, 40)

      enemy_healths[enemy_id] -= enemy_damage

      if (enemy_healths[enemy_id] > 0) {
        let enemy_offset_left_previous = enemy_offsets_left[enemy_id]
        let enemy_offset_left_next = enemy_offset_left_previous + enemy_knockback_offset_increment_left
        let enemy_offset_top_previous = enemy_offsets_top[enemy_id]
        let enemy_offset_top_next = enemy_offset_top_previous + enemy_knockback_offset_increment_top

        enemy_elements[enemy_id].setAttribute(
          "style",
          "left: " + enemy_offset_left_next + "px; top: "
            + enemy_offset_top_next + "px;"
        )
        enemy_offsets_bottom[enemy_id] = enemy_offset_top_next + 28
        enemy_offsets_left[enemy_id] = enemy_offset_left_next
        enemy_offsets_right[enemy_id] = enemy_offset_left_next + 28
        enemy_offsets_top[enemy_id] = enemy_offset_top_next

        if (enemy_offset_left_previous > 0) {
          enemy_offset_left_previous >>= 4
        } else {
          enemy_offset_left_previous = 0
        }

        if (enemy_offset_left_next > 0) {
          enemy_offset_left_next >>= 4
        } else {
          enemy_offset_left_next = 0
        }

        if (enemy_offset_top_previous > 0) {
          enemy_offset_top_previous >>= 3
        } else {
          enemy_offset_top_previous = 0
        }

        if (enemy_offset_top_next > 0) {
          enemy_offset_top_next >>= 3
        } else {
          enemy_offset_top_next = 0
        }

        if (enemy_offset_left_previous != enemy_offset_left_next) {
          if (enemy_offset_left_previous == 0) {
            enemy_offsets_map_horizontal[enemy_offset_left_next - 1][enemy_id] = enemy_id
            enemy_offsets_map_horizontal[enemy_offset_left_next][enemy_id] = enemy_id
            enemy_offsets_map_horizontal[enemy_offset_left_next + 1][enemy_id] = enemy_id
            delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]

            if (
              (enemy_offset_left_previous + 1) != (enemy_offset_left_next - 1) &&
              (enemy_offset_left_previous + 1) != enemy_offset_left_next
            ) {
              delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
            }
          } else {
            if (enemy_offset_left_next == 0) {
              enemy_offsets_map_horizontal[enemy_offset_left_next][enemy_id] = enemy_id
              enemy_offsets_map_horizontal[enemy_offset_left_next + 1][enemy_id] = enemy_id

              if (
                (enemy_offset_left_previous - 1) != enemy_offset_left_next &&
                (enemy_offset_left_previous - 1) != (enemy_offset_left_next + 1)
              ) {
                delete enemy_offsets_map_horizontal[enemy_offset_left_previous - 1][enemy_id]
              }

              if (enemy_offset_left_previous != (enemy_offset_left_next + 1)) {
                delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]
              }

              delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
            } else {
              enemy_offsets_map_horizontal[enemy_offset_left_next - 1][enemy_id] = enemy_id
              enemy_offsets_map_horizontal[enemy_offset_left_next][enemy_id] = enemy_id
              enemy_offsets_map_horizontal[enemy_offset_left_next + 1][enemy_id] = enemy_id

              if (enemy_offset_left_previous > enemy_offset_left_next) {
                if (
                  (enemy_offset_left_previous - 1) != enemy_offset_left_next &&
                  (enemy_offset_left_previous - 1) != (enemy_offset_left_next + 1)
                ) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous - 1][enemy_id]
                }

                if (enemy_offset_left_previous != (enemy_offset_left_next + 1)) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]
                }

                delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
              } else {
                delete enemy_offsets_map_horizontal[enemy_offset_left_previous - 1][enemy_id]

                if (enemy_offset_left_previous != (enemy_offset_left_next - 1)) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]
                }

                if (
                  (enemy_offset_left_previous + 1) != (enemy_offset_left_next - 1) &&
                  (enemy_offset_left_previous + 1) != enemy_offset_left_next
                ) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
                }
              }
            }
          }
        }

        if (enemy_offset_top_previous != enemy_offset_top_next) {
          if (enemy_offset_top_previous == 0) {
            enemy_offsets_map_vertical[enemy_offset_top_next - 1][enemy_id] = enemy_id
            enemy_offsets_map_vertical[enemy_offset_top_next][enemy_id] = enemy_id
            enemy_offsets_map_vertical[enemy_offset_top_next + 1][enemy_id] = enemy_id
            delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]

            if (
              (enemy_offset_top_previous + 1) != (enemy_offset_top_next - 1) &&
              (enemy_offset_top_previous + 1) != enemy_offset_top_next
            ) {
              delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
            }
          } else {
            if (enemy_offset_top_next == 0) {
              enemy_offsets_map_vertical[enemy_offset_top_next][enemy_id] = enemy_id
              enemy_offsets_map_vertical[enemy_offset_top_next + 1][enemy_id] = enemy_id

              if (
                (enemy_offset_top_previous - 1) != enemy_offset_top_next &&
                (enemy_offset_top_previous - 1) != (enemy_offset_top_next + 1)
              ) {
                delete enemy_offsets_map_vertical[enemy_offset_top_previous - 1][enemy_id]
              }

              if (enemy_offset_top_previous != (enemy_offset_top_next + 1)) {
                delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]
              }

              delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
            } else {
              enemy_offsets_map_vertical[enemy_offset_top_next - 1][enemy_id] = enemy_id
              enemy_offsets_map_vertical[enemy_offset_top_next][enemy_id] = enemy_id
              enemy_offsets_map_vertical[enemy_offset_top_next + 1][enemy_id] = enemy_id

              if (enemy_offset_top_previous > enemy_offset_top_next) {
                if (
                  (enemy_offset_top_previous - 1) != enemy_offset_top_next &&
                  (enemy_offset_top_previous - 1) != (enemy_offset_top_next + 1)
                ) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous - 1][enemy_id]
                }

                if (enemy_offset_top_previous != (enemy_offset_top_next + 1)) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]
                }

                delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
              } else {
                delete enemy_offsets_map_vertical[enemy_offset_top_previous - 1][enemy_id]

                if (enemy_offset_top_previous != (enemy_offset_top_next - 1)) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]
                }

                if (
                  (enemy_offset_top_previous + 1) != (enemy_offset_top_next - 1) &&
                  (enemy_offset_top_previous + 1) != enemy_offset_top_next
                ) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
                }
              }
            }
          }
        }

        clearTimeout(has_enemy_knockback_state_ids[enemy_id])

        has_enemy_knockback_state_ids[enemy_id] = setTimeout(function() {
          has_enemy_knockback_states[enemy_id] = false
        }, 100)

        return
      }

      if (enemy_offsets_bottom[enemy_id] == -100) {
        return
      }

      clearInterval(enemy_move_ids[enemy_id])

      const enemy_offset_left = enemy_offsets_left[enemy_id]
      const enemy_offset_top = enemy_offsets_top[enemy_id]

      enemy_offsets_bottom[enemy_id] = -100
      enemy_offsets_left[enemy_id] = -100
      enemy_offsets_right[enemy_id] = -100
      enemy_offsets_top[enemy_id] = -100
      enemies_count--
      enemy_healths[enemy_id] = 0

      setTimeout(function() {
        let bounds_recoil = randomized_state & 3
        let i = 0

        const bounds_recoil_id = setInterval(function() {
          bounds_element.setAttribute(
            "recoil",
            bounds_recoil
          )

          i++

          if (i < 3) {
            bounds_recoil = (bounds_recoil + 1) & 3
            return
          }

          clearInterval(bounds_recoil_id)
          bounds_element.removeAttribute("recoil")
        }, 15)
      }, 0)

      setTimeout(function() {
        if (enemy_offset_left > 0) {
          const enemy_segment = enemy_offset_left >> 4

          if (enemy_segment != 0) {
            delete enemy_offsets_map_horizontal[enemy_segment - 1][enemy_id]
          }

          delete enemy_offsets_map_horizontal[enemy_segment][enemy_id]
          delete enemy_offsets_map_horizontal[enemy_segment + 1][enemy_id]
        } else {
          delete enemy_offsets_map_horizontal[0][enemy_id]
          delete enemy_offsets_map_horizontal[1][enemy_id]
        }

        if (enemy_offset_top > 0) {
          const enemy_segment = enemy_offset_top >> 3

          if (enemy_segment != 0) {
            delete enemy_offsets_map_vertical[enemy_segment - 1][enemy_id]
          }

          delete enemy_offsets_map_vertical[enemy_segment][enemy_id]
          delete enemy_offsets_map_vertical[enemy_segment + 1][enemy_id]
        } else {
          delete enemy_offsets_map_vertical[0][enemy_id]
          delete enemy_offsets_map_vertical[1][enemy_id]
        }
      }, 0)

      setTimeout(function() {
        enemy_elements[enemy_id].setAttribute(
          "style",
          "display: none; transition-property: none;"
        )
      }, 0)

      setTimeout(function() {
        const enemy_bits_element_a = enemy_bits_elements.pop()
        const enemy_bits_element_b = enemy_bits_elements.pop()

        if (typeof enemy_bits_element_a != "undefined") {
          enemy_bits_element_a.setAttribute(
            "style",
            "left: " + enemy_offset_left + "px; top: "
              + enemy_offset_top + "px;"
          )
          enemy_bits_element_a.setAttribute(
            "class",
            "bits bits-" + enemy_id + " bits-transition element"
          )

          setTimeout(function() {
            if (typeof enemy_bits_element_a != "undefined") {
              enemy_bits_element_a.classList.remove("bits-transition")
            }
          }, 400)

          if (typeof enemy_bits_element_b != "undefined") {
            enemy_bits_element_b.setAttribute(
              "style",
              "left: " + enemy_offset_left + "px; top: "
                + enemy_offset_top + "px; transform: rotate(95deg);"
            )
            enemy_bits_element_b.setAttribute(
              "class",
              "bits bits-" + ((enemy_id + 1) & 15) + " bits-transition element"
            )

            setTimeout(function() {
              if (typeof enemy_bits_element_b != "undefined") {
                enemy_bits_element_b.classList.remove("bits-transition")
              }
            }, 400)
          }
        }
      }, 0)

      setTimeout(function() {
        const enemy_pieces_element_a = enemy_pieces_elements.pop()
        const enemy_pieces_element_b = enemy_pieces_elements.pop()

        if (typeof enemy_pieces_element_a != "undefined") {
          enemy_pieces_element_a.setAttribute(
            "style",
            "left: " + enemy_offset_left + "px; top: "
              + enemy_offset_top + "px;"
          )
          enemy_pieces_element_a.setAttribute(
            "class",
            "element pieces pieces-" + enemy_id + " pieces-transition"
          )

          setTimeout(function() {
            if (typeof enemy_pieces_element_a != "undefined") {
              enemy_pieces_element_a.classList.remove("pieces-transition")
            }
          }, 400)

          if (typeof enemy_pieces_element_b != "undefined") {
            enemy_pieces_element_b.setAttribute(
              "style",
              "left: " + enemy_offset_left + "px; top: "
                + enemy_offset_top + "px; transform: rotate(90deg);"
            )
            enemy_pieces_element_b.setAttribute(
              "class",
              "element pieces pieces-" + ((enemy_id + 1) & 15) + " pieces-transition"
            )

            setTimeout(function() {
              if (typeof enemy_pieces_element_b != "undefined") {
                enemy_pieces_element_b.classList.remove("pieces-transition")
              }
            }, 400)
          }
        }
      }, 0)

      setTimeout(function() {
        const enemy_splatter_element_a = enemy_splatter_elements.pop()
        const enemy_splatter_element_b = enemy_splatter_elements.pop()

        if (typeof enemy_splatter_element_a != "undefined") {
          enemy_splatter_element_a.setAttribute(
            "style",
            "left: " + enemy_offset_left + "px; top: "
              + enemy_offset_top + "px;"
          )
          enemy_splatter_element_a.setAttribute(
            "class",
            "element splatter splatter-" + enemy_id + " splatter-transition"
          )

          setTimeout(function() {
            if (typeof enemy_splatter_element_a != "undefined") {
              enemy_splatter_element_a.classList.remove("splatter-transition")
            }
          }, 400)

          if (typeof enemy_splatter_element_b != "undefined") {
            enemy_splatter_element_b.setAttribute(
              "style",
              "left: " + enemy_offset_left + "px; top: "
                + enemy_offset_top + "px; transform: rotate(90deg);"
            )
            enemy_splatter_element_b.setAttribute(
              "class",
              "element splatter splatter-" + ((enemy_id + 1) & 15) + " splatter-transition"
            )

            setTimeout(function() {
              if (typeof enemy_splatter_element_b != "undefined") {
                enemy_splatter_element_b.classList.remove("splatter-transition")
              }
            }, 400)
          }
        }
      }, 0)

      clearTimeout(has_enemy_knockback_state_ids[enemy_id])

      has_enemy_knockback_state_ids[enemy_id] = setTimeout(function() {
        has_enemy_knockback_states[enemy_id] = false
      }, 100)
    }

    const enemy_move = function(enemy_id) {
      if (
        has_enemy_knockback_states[enemy_id] == true ||
        has_enemy_move_states[enemy_id] == true
      ) {
        return
      }

      has_enemy_move_states[enemy_id] = true

      let enemy_offset_left_previous = enemy_offsets_left[enemy_id]
      let enemy_offset_left_next = enemy_offset_left_previous
      let enemy_offset_top_previous = enemy_offsets_top[enemy_id]
      let enemy_offset_top_next = enemy_offset_top_previous

      if (enemy_offset_left_next < player_offset_left) {
        enemy_offset_left_next += enemy_move_speeds[enemy_id]
          + (randomized_state & 7)
      } else {
        enemy_offset_left_next -= enemy_move_speeds[enemy_id]
          + (randomized_state & 7)
      }

      if (enemy_offset_top_next < player_offset_top) {
        enemy_offset_top_next += enemy_move_speeds[enemy_id]
          + ((randomized_state >> 3) & 7)
      } else {
        enemy_offset_top_next -= enemy_move_speeds[enemy_id]
          + ((randomized_state >> 3) & 7)
      }

      enemy_elements[enemy_id].setAttribute(
        "style",
        "left: " + enemy_offset_left_next + "px; top: "
          + enemy_offset_top_next + "px;"
      )
      enemy_offsets_bottom[enemy_id] = enemy_offset_top_next + 28
      enemy_offsets_left[enemy_id] = enemy_offset_left_next
      enemy_offsets_right[enemy_id] = enemy_offset_left_next + 28
      enemy_offsets_top[enemy_id] = enemy_offset_top_next

      if (enemy_offset_left_previous > 0) {
        enemy_offset_left_previous >>= 4
      } else {
        enemy_offset_left_previous = 0
      }

      if (enemy_offset_left_next > 0) {
        enemy_offset_left_next >>= 4
      } else {
        enemy_offset_left_next = 0
      }

      if (enemy_offset_top_previous > 0) {
        enemy_offset_top_previous >>= 3
      } else {
        enemy_offset_top_previous = 0
      }

      if (enemy_offset_top_next > 0) {
        enemy_offset_top_next >>= 3
      } else {
        enemy_offset_top_next = 0
      }

      if (enemy_offset_left_previous != enemy_offset_left_next) {
        if (enemy_offset_left_previous == 0) {
          enemy_offsets_map_horizontal[enemy_offset_left_next - 1][enemy_id] = enemy_id
          enemy_offsets_map_horizontal[enemy_offset_left_next][enemy_id] = enemy_id
          enemy_offsets_map_horizontal[enemy_offset_left_next + 1][enemy_id] = enemy_id

          setTimeout(function() {
            delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]
          }, 0)

          setTimeout(function() {
            if (
              (enemy_offset_left_previous + 1) != (enemy_offset_left_next - 1) &&
              (enemy_offset_left_previous + 1) != enemy_offset_left_next
            ) {
              delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
            }
          }, 0)
        } else {
          if (enemy_offset_left_next == 0) {
            enemy_offsets_map_horizontal[enemy_offset_left_next][enemy_id] = enemy_id
            enemy_offsets_map_horizontal[enemy_offset_left_next + 1][enemy_id] = enemy_id

            setTimeout(function() {
              if (
                (enemy_offset_left_previous - 1) != enemy_offset_left_next &&
                (enemy_offset_left_previous - 1) != (enemy_offset_left_next + 1)
              ) {
                delete enemy_offsets_map_horizontal[enemy_offset_left_previous - 1][enemy_id]
              }
            }, 0)

            setTimeout(function() {
              if (enemy_offset_left_previous != (enemy_offset_left_next + 1)) {
                delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]
              }
            }, 0)

            setTimeout(function() {
              delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
            }, 0)
          } else {
            enemy_offsets_map_horizontal[enemy_offset_left_next - 1][enemy_id] = enemy_id
            enemy_offsets_map_horizontal[enemy_offset_left_next][enemy_id] = enemy_id
            enemy_offsets_map_horizontal[enemy_offset_left_next + 1][enemy_id] = enemy_id

            if (enemy_offset_left_previous > enemy_offset_left_next) {
              setTimeout(function() {
                if (
                  (enemy_offset_left_previous - 1) != enemy_offset_left_next &&
                  (enemy_offset_left_previous - 1) != (enemy_offset_left_next + 1)
                ) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous - 1][enemy_id]
                }
              }, 0)

              setTimeout(function() {
                if (enemy_offset_left_previous != (enemy_offset_left_next + 1)) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]
                }
              }, 0)

              setTimeout(function() {
                delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
              }, 0)
            } else {
              setTimeout(function() {
                delete enemy_offsets_map_horizontal[enemy_offset_left_previous - 1][enemy_id]
              }, 0)

              setTimeout(function() {
                if (enemy_offset_left_previous != (enemy_offset_left_next - 1)) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous][enemy_id]
                }
              }, 0)

              setTimeout(function() {
                if (
                  (enemy_offset_left_previous + 1) != (enemy_offset_left_next - 1) &&
                  (enemy_offset_left_previous + 1) != enemy_offset_left_next
                ) {
                  delete enemy_offsets_map_horizontal[enemy_offset_left_previous + 1][enemy_id]
                }
              }, 0)
            }
          }
        }
      }

      if (enemy_offset_top_previous != enemy_offset_top_next) {
        if (enemy_offset_top_previous == 0) {
          enemy_offsets_map_vertical[enemy_offset_top_next - 1][enemy_id] = enemy_id
          enemy_offsets_map_vertical[enemy_offset_top_next][enemy_id] = enemy_id
          enemy_offsets_map_vertical[enemy_offset_top_next + 1][enemy_id] = enemy_id

          setTimeout(function() {
            delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]
          }, 0)

          setTimeout(function() {
            if (
              (enemy_offset_top_previous + 1) != (enemy_offset_top_next - 1) &&
              (enemy_offset_top_previous + 1) != enemy_offset_top_next
            ) {
              delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
            }
          }, 0)
        } else {
          if (enemy_offset_top_next == 0) {
            enemy_offsets_map_vertical[enemy_offset_top_next][enemy_id] = enemy_id
            enemy_offsets_map_vertical[enemy_offset_top_next + 1][enemy_id] = enemy_id

            setTimeout(function() {
              if (
                (enemy_offset_top_previous - 1) != enemy_offset_top_next &&
                (enemy_offset_top_previous - 1) != (enemy_offset_top_next + 1)
              ) {
                delete enemy_offsets_map_vertical[enemy_offset_top_previous - 1][enemy_id]
              }
            }, 0)

            setTimeout(function() {
              if (enemy_offset_top_previous != (enemy_offset_top_next + 1)) {
                delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]
              }
            }, 0)

            setTimeout(function() {
              delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
            }, 0)
          } else {
            enemy_offsets_map_vertical[enemy_offset_top_next - 1][enemy_id] = enemy_id
            enemy_offsets_map_vertical[enemy_offset_top_next][enemy_id] = enemy_id
            enemy_offsets_map_vertical[enemy_offset_top_next + 1][enemy_id] = enemy_id

            if (enemy_offset_top_previous > enemy_offset_top_next) {
              setTimeout(function() {
                if (
                  (enemy_offset_top_previous - 1) != enemy_offset_top_next &&
                  (enemy_offset_top_previous - 1) != (enemy_offset_top_next + 1)
                ) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous - 1][enemy_id]
                }
              }, 0)

              setTimeout(function() {
                if (enemy_offset_top_previous != (enemy_offset_top_next + 1)) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]
                }
              }, 0)

              setTimeout(function() {
                delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
              }, 0)
            } else {
              setTimeout(function() {
                delete enemy_offsets_map_vertical[enemy_offset_top_previous - 1][enemy_id]
              }, 0)

              setTimeout(function() {
                if (enemy_offset_top_previous != (enemy_offset_top_next - 1)) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous][enemy_id]
                }
              }, 0)

              setTimeout(function() {
                if (
                  (enemy_offset_top_previous + 1) != (enemy_offset_top_next - 1) &&
                  (enemy_offset_top_previous + 1) != enemy_offset_top_next
                ) {
                  delete enemy_offsets_map_vertical[enemy_offset_top_previous + 1][enemy_id]
                }
              }, 0)
            }
          }
        }
      }

      has_enemy_move_states[enemy_id] = false
    }

    const enemy_move_ids = Array(16)
    const enemy_move_speeds = Array(16)
    const enemy_offsets_bottom = Array(16)
    const enemy_offsets_left = Array(16)
    const enemy_offsets_right = Array(16)
    const enemy_offsets_top = Array(16)
    const enemy_pieces_elements = Array(32)
    const enemy_splatter_elements = Array(32)
    const has_enemy_knockback_state_ids = Array(16)
    const has_enemy_knockback_states = Array(16)
    const has_enemy_move_states = Array(16)

    const on_document_ready = function(callback) {
      if (document.readyState != "complete") {
        setTimeout(function() {
          on_document_ready(callback)
        }, 10)
      } else {
        callback()
      }
    }

    const player_element = document.createElement("div")
    const player_inputs = Array(151)
    const player_weapon_effect_elements = Array(100)
    const player_weapon_element = document.createElement("div")
    const player_weapon_projectile_elements = Array(100)
    const player_weapons = [
      {
        "initialize": function() {
          player_weapon_ammunition = 20
          player_weapon_delay_maximum = 3
        },
        "use": function() {
          if (
            player_weapon_delay != player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          if (
            has_player_weapon_reload_state == true ||
            has_player_weapon_use_state == false
          ) {
            return
          }

          if (
            has_player_weapon_reload_state == false &&
            player_weapon_ammunition == 0
          ) {
            let player_weapon_magazine_offset_increment_left = 3
            let player_weapon_magazine_offset_increment_top = 3
            let player_weapon_magazine_offset_left
            let player_weapon_magazine_offset_top
            let player_weapon_magazine_opacity = 98
            let player_weapon_magazine_rotation = randomized_state & 255
            let player_weapon_magazine_z_index = 5
            const player_weapon_magazine_element = player_weapon_effect_elements.pop()

            has_player_weapon_reload_state = true

            if ((randomized_state & 1) == 0) {
              player_weapon_magazine_offset_increment_left = -3
            }

            if (((randomized_state >> 1) & 1) == 0) {
              player_weapon_magazine_offset_increment_top = -3
            }

            player_weapon_element.setAttribute(
              "reload",
              randomized_state & 3
            )

            setTimeout(function() {
              player_weapon_magazine_offset_left = player_weapon_offset_left
              player_weapon_magazine_offset_top = player_weapon_offset_top
              player_weapon_magazine_element.setAttribute(
                "style",
                "left: " + player_weapon_magazine_offset_left + "px; top: "
                  + player_weapon_magazine_offset_top + "px; transform: rotate("
                  + player_weapon_magazine_rotation + "deg); width: 12px;"
              )

              const player_weapon_magazine_id = setInterval(function() {
                if (player_weapon_magazine_opacity != 10) {
                  if (player_weapon_magazine_opacity > 80) {
                    player_weapon_magazine_offset_left += player_weapon_magazine_offset_increment_left
                    player_weapon_magazine_offset_top += player_weapon_magazine_offset_increment_top
                    player_weapon_magazine_rotation -= 3

                    if (player_weapon_magazine_opacity != 81) {
                      player_weapon_magazine_z_index = 3
                    }
                  }

                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "left: " + player_weapon_magazine_offset_left + "px; opacity: 0."
                      + player_weapon_magazine_opacity + "; top: "
                      + player_weapon_magazine_offset_top + "px; transform: rotate("
                      + player_weapon_magazine_rotation + "deg); width: 12px; z-index:"
                      + player_weapon_magazine_z_index + ";"
                  )
                  player_weapon_magazine_opacity--
                  return
                }

                clearInterval(player_weapon_magazine_id)
                player_weapon_magazine_element.setAttribute(
                  "style",
                  "display: none;"
                )
                player_weapon_effect_elements.push(player_weapon_magazine_element)
              }, 20)

              player_weapon_element.setAttribute(
                "reload",
                randomized_state & 3
              )

              setTimeout(function() {
                player_weapon_element.setAttribute(
                  "reload",
                  randomized_state & 3
                )

                setTimeout(function() {
                  has_player_weapon_reload_state = false
                  player_weapon_ammunition = 30
                  player_weapon_delay = -7
                  player_weapon_element.removeAttribute("reload")
                }, 100)
              }, 100)
            }, 100)

            return
          }

          player_weapon_delay = 0

          setTimeout(function() {
            player_weapon_position()

            let player_weapon_projectile_offset_left = player_weapon_offset_left + 3
            let player_weapon_projectile_offset_top = player_weapon_offset_top + 3
            let player_weapon_projectile_penetration = 10
            const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
            const player_weapon_projectile_offset_increment_left = (player_weapon_offset_increment_left + (randomized_state & 1) - ((randomized_state >> 1) & 1)) * 0.4
            const player_weapon_projectile_offset_increment_top = (player_weapon_offset_increment_top + ((randomized_state >> 2) & 1) - ((randomized_state >> 3) & 1)) * 0.4

            const player_weapon_projectile_move = function(player_weapon_projectile_id) {
              player_weapon_projectile_offset_left += player_weapon_projectile_offset_increment_left
              player_weapon_projectile_offset_top += player_weapon_projectile_offset_increment_top

              let player_weapon_projectile_segment = player_weapon_projectile_offset_left >>> 4

              player_weapon_projectile_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_offset_left + "px; top: "
                  + player_weapon_projectile_offset_top + "px;"
              )

              if (
                has_player_weapon_projectile_move_horizontal_state == true &&
                player_weapon_projectile_offset_left >= 0 &&
                enemy_offsets_map_horizontal[player_weapon_projectile_segment].length != 0
              ) {
                let i = 0
                const enemy_ids = Object.values(
                  enemy_offsets_map_horizontal[player_weapon_projectile_segment]
                )

                while (i != enemy_ids.length) {
                  const enemy_id = enemy_ids[i]

                  if (
                    player_weapon_projectile_offset_left <= enemy_offsets_right[enemy_id] &&
                    player_weapon_projectile_offset_top <= enemy_offsets_bottom[enemy_id] &&
                    (player_weapon_projectile_offset_left + 8) >= enemy_offsets_left[enemy_id] &&
                    (player_weapon_projectile_offset_top + 8) >= enemy_offsets_top[enemy_id]
                  ) {
                    setTimeout(function() {
                      enemy_hit(
                        40,
                        enemy_id,
                        player_weapon_projectile_offset_increment_left | 0,
                        player_weapon_projectile_offset_increment_top | 0
                      )
                    }, 0)

                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration == 0) {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity != 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "background-color: #777; height: "
                              + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                          return
                        }

                        clearInterval(player_weapon_projectile_impact_id)
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "display: none; left: 0; top: 0;"
                        )
                        player_weapon_projectile_elements.push(player_weapon_projectile_element)
                      }, 45)

                      clearInterval(player_weapon_projectile_id)
                      return
                    }

                    let player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()
                    let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                    let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                    const player_weapon_projectile_impact_id = setInterval(function() {
                      if (player_weapon_projectile_opacity != 0) {
                        player_weapon_projectile_height += 10
                        player_weapon_projectile_impact_offset_left -= 5
                        player_weapon_projectile_impact_offset_top -= 5
                        player_weapon_projectile_width += 10
                        player_weapon_projectile_impact_element.setAttribute(
                          "style",
                          "background-color: #777; height: "
                            + player_weapon_projectile_height + "px; left: "
                            + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                            + player_weapon_projectile_opacity + "; top: "
                            + player_weapon_projectile_impact_offset_top + "px; width: "
                            + player_weapon_projectile_width + "px;"
                        )
                        player_weapon_projectile_opacity -= 20
                        return
                      }

                      clearInterval(player_weapon_projectile_impact_id)
                      player_weapon_projectile_impact_element.setAttribute(
                        "style",
                        "display: none; left: 0; top: 0;"
                      )
                      player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                    }, 45)
                  }

                  i++
                }

                return
              }

              player_weapon_projectile_segment = player_weapon_projectile_offset_top >>> 3

              if (
                player_weapon_projectile_offset_top >= 0 &&
                enemy_offsets_map_vertical[player_weapon_projectile_segment].length != 0
              ) {
                let i = 0
                const enemy_ids = Object.values(
                  enemy_offsets_map_vertical[player_weapon_projectile_segment]
                )

                while (i != enemy_ids.length) {
                  const enemy_id = enemy_ids[i]

                  if (
                    player_weapon_projectile_offset_left <= enemy_offsets_right[enemy_id] &&
                    player_weapon_projectile_offset_top <= enemy_offsets_bottom[enemy_id] &&
                    (player_weapon_projectile_offset_left + 8) >= enemy_offsets_left[enemy_id] &&
                    (player_weapon_projectile_offset_top + 8) >= enemy_offsets_top[enemy_id]
                  ) {
                    setTimeout(function() {
                      enemy_hit(
                        40,
                        enemy_id,
                        player_weapon_projectile_offset_increment_left | 0,
                        player_weapon_projectile_offset_increment_top | 0
                      )
                    }, 0)

                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    player_weapon_projectile_penetration--

                    if (player_weapon_projectile_penetration == 0) {
                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity != 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "background-color: #777; height: "
                              + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                          return
                        }

                        clearInterval(player_weapon_projectile_impact_id)
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "display: none; left: 0; top: 0;"
                        )
                        player_weapon_projectile_elements.push(player_weapon_projectile_element)
                      }, 45)

                      clearInterval(player_weapon_projectile_id)
                      return
                    }

                    let player_weapon_projectile_impact_element = player_weapon_projectile_elements.pop()
                    let player_weapon_projectile_impact_offset_left = player_weapon_projectile_offset_left
                    let player_weapon_projectile_impact_offset_top = player_weapon_projectile_offset_top

                    const player_weapon_projectile_impact_id = setInterval(function() {
                      if (player_weapon_projectile_opacity != 0) {
                        player_weapon_projectile_height += 10
                        player_weapon_projectile_impact_offset_left -= 5
                        player_weapon_projectile_impact_offset_top -= 5
                        player_weapon_projectile_width += 10
                        player_weapon_projectile_impact_element.setAttribute(
                          "style",
                          "background-color: #777; height: "
                            + player_weapon_projectile_height + "px; left: "
                            + player_weapon_projectile_impact_offset_left + "px; opacity: 0."
                            + player_weapon_projectile_opacity + "; top: "
                            + player_weapon_projectile_impact_offset_top + "px; width: "
                            + player_weapon_projectile_width + "px;"
                        )
                        player_weapon_projectile_opacity -= 20
                        return
                      }

                      clearInterval(player_weapon_projectile_impact_id)
                      player_weapon_projectile_impact_element.setAttribute(
                        "style",
                        "display: none; left: 0; top: 0;"
                      )
                      player_weapon_projectile_elements.push(player_weapon_projectile_impact_element)
                    }, 45)
                  }

                  i++
                }
              }
            }

            let has_player_weapon_projectile_move_horizontal_state = false

            if (player_weapon_offset_increment_left != 0) {
              has_player_weapon_projectile_move_horizontal_state = true
            }

            if (player_weapon_projectile_offset_increment_left < 0) {
              if (player_weapon_projectile_offset_increment_top < 0) {
                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_top > -50 &&
                    player_weapon_projectile_offset_left > -50
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                    return
                  }

                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }, 5)

                return
              }

              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left > -50 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                  return
                }

                clearInterval(player_weapon_projectile_id)
                player_weapon_projectile_elements.push(player_weapon_projectile_element)
              }, 5)

              return
            }

            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                  return
                }

                clearInterval(player_weapon_projectile_id)
                player_weapon_projectile_elements.push(player_weapon_projectile_element)
              }, 5)

              return
            }

            const player_weapon_projectile_id = setInterval(function() {
              if (
                player_weapon_projectile_offset_left < 722 &&
                player_weapon_projectile_offset_top < 428
              ) {
                player_weapon_projectile_move(player_weapon_projectile_id)
                return
              }

              clearInterval(player_weapon_projectile_id)
              player_weapon_projectile_elements.push(player_weapon_projectile_element)
            }, 5)
          }, 0)

          setTimeout(function() {
            let bounds_recoil = randomized_state & 3
            let player_weapon_muzzle_flash_margin = 2
            let player_weapon_muzzle_flash_size = 0
            const player_weapon_muzzle_flash_offset_left = player_weapon_offset_left
            const player_weapon_muzzle_flash_offset_top = player_weapon_offset_top

            setTimeout(function() {
              bounds_element.setAttribute(
                "recoil",
                bounds_recoil
              )
              bounds_recoil = (bounds_recoil + 1) & 3

              setTimeout(function() {
                bounds_element.setAttribute(
                  "recoil",
                  bounds_recoil
                )
                bounds_recoil = (bounds_recoil + 1) & 3

                setTimeout(function() {
                  bounds_element.setAttribute(
                    "recoil",
                    bounds_recoil
                  )
                  bounds_recoil = (bounds_recoil + 1) & 3

                  setTimeout(function() {
                    bounds_element.removeAttribute("recoil")
                  }, 15)
                }, 15)
              }, 15)
            }, 15)

            const player_weapon_muzzle_flash_id = setInterval(function() {
              if (player_weapon_muzzle_flash_size != 100) {
                player_weapon_muzzle_flash_margin -= 10
                player_weapon_muzzle_flash_size += 20
                player_weapon_muzzle_flash_element.setAttribute(
                  "style",
                  "height: " + player_weapon_muzzle_flash_size + "px; left: "
                    + player_weapon_muzzle_flash_offset_left + "px; margin-left: "
                    + player_weapon_muzzle_flash_margin + "px; margin-top: "
                    + player_weapon_muzzle_flash_margin + "px; top: "
                    + player_weapon_muzzle_flash_offset_top + "px; width: "
                    + player_weapon_muzzle_flash_size + "px;"
                )
                return
              }

              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }, 10)
          }, 0)

          setTimeout(function() {
            let player_weapon_projectile_casing_offset_left
            let player_weapon_projectile_casing_offset_top
            let player_weapon_projectile_casing_opacity = 96
            let player_weapon_projectile_casing_rotation = randomized_state & 255
            let player_weapon_projectile_casing_z_index = 5
            const player_weapon_projectile_casing_element = player_weapon_effect_elements.pop()
            const player_weapon_projectile_casing_offset_increment_left = (player_offset_left & 3) - (randomized_state & 3)
            const player_weapon_projectile_casing_offset_increment_top = (player_offset_top & 3) - ((randomized_state >> 2) & 3)

            player_weapon_projectile_casing_offset_left = player_weapon_offset_left
            player_weapon_projectile_casing_offset_top = player_weapon_offset_top
            player_weapon_projectile_casing_element.setAttribute(
              "style",
              "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
                + player_weapon_projectile_casing_offset_top + "px;"
            )

            const player_weapon_projectile_casing_id = setInterval(function() {
              if (player_weapon_projectile_casing_opacity != 10) {
                if (player_weapon_projectile_casing_opacity > 80) {
                  player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
                  player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
                  player_weapon_projectile_casing_rotation -= 3

                  if (player_weapon_projectile_casing_opacity == 81) {
                    player_weapon_projectile_casing_offset_left |= 0
                    player_weapon_projectile_casing_offset_top |= 0
                    player_weapon_projectile_casing_z_index = 3
                  }
                }

                player_weapon_projectile_casing_element.setAttribute(
                  "style",
                  "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                    + player_weapon_projectile_casing_opacity + "; top: "
                    + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                    + player_weapon_projectile_casing_rotation + "deg); width: 7px; z-index: "
                    + player_weapon_projectile_casing_z_index + ";"

                )
                player_weapon_projectile_casing_opacity--
                return
              }

              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_effect_elements.push(player_weapon_projectile_casing_element)
            }, 23)
          }, 0)

          setTimeout(function() {
            let i = 0
            let player_weapon_recoil = randomized_state & 3

            const player_weapon_recoil_id = setInterval(function() {
              player_element.setAttribute(
                "recoil",
                player_weapon_recoil
              )
              player_weapon_element.setAttribute(
                "recoil",
                player_weapon_recoil
              )
              i++

              if (i < 5) {
                player_weapon_recoil = (player_weapon_recoil + 1) & 3
                return
              }

              clearInterval(player_weapon_recoil_id)
              player_element.removeAttribute("recoil")
              player_weapon_element.removeAttribute("recoil")
            }, 25)
          }, 0)

          player_weapon_ammunition--
        }
      },
      {
        "initialize": function() {
          player_weapon_ammunition = 20
          player_weapon_delay_maximum = 5
        },
        "use": function() {
          if (
            player_weapon_delay != player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          if (
            has_player_weapon_reload_state == false &&
            player_weapon_ammunition == 0
          ) {
            let player_weapon_magazine_offset_increment_left = 3
            let player_weapon_magazine_offset_increment_top = 3
            let player_weapon_magazine_offset_left
            let player_weapon_magazine_offset_top
            let player_weapon_magazine_opacity = 100
            let player_weapon_magazine_z_index = 5
            const player_weapon_magazine_element = player_weapon_effect_elements.pop()

            has_player_weapon_reload_state = true

            if ((randomized_state & 1) == 0) {
              player_weapon_magazine_offset_increment_left = -3
            }

            if (((randomized_state >> 1) & 1) == 0) {
              player_weapon_magazine_offset_increment_top = -3
            }

            player_weapon_element.setAttribute(
              "reload",
              randomized_state & 3
            )

            setTimeout(function() {
              player_weapon_magazine_offset_left = player_weapon_offset_left
              player_weapon_magazine_offset_top = player_weapon_offset_top
              player_weapon_magazine_element.setAttribute(
                "style",
                "left: " + player_weapon_magazine_offset_left + "px; top: "
                  + player_weapon_magazine_offset_top + "px;"
              )

              const player_weapon_magazine_id = setInterval(function() {
                if (player_weapon_magazine_opacity != 10) {
                  if (player_weapon_magazine_opacity > 80) {
                    player_weapon_magazine_offset_left += player_weapon_magazine_offset_increment_left
                    player_weapon_magazine_offset_top += player_weapon_magazine_offset_increment_top

                    if (player_weapon_magazine_opacity == 81) {
                      player_weapon_magazine_z_index = 3
                    }
                  }

                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "border-radius: 22px; height: 11px; left: "
                      + player_weapon_magazine_offset_left + "px; opacity: 0."
                      + player_weapon_magazine_opacity + "; top: "
                      + player_weapon_magazine_offset_top + "px; width: 11px; z-index: "
                      + player_weapon_magazine_z_index + ";"
                  )
                  player_weapon_magazine_opacity--
                  return
                }

                clearInterval(player_weapon_magazine_id)
                player_weapon_magazine_element.setAttribute(
                  "style",
                  "display: none;"
                )
                player_weapon_effect_elements.push(player_weapon_magazine_element)
              }, 20)

              player_weapon_element.setAttribute(
                "reload",
                randomized_state & 3
              )

              setTimeout(function() {
                player_weapon_element.setAttribute(
                  "reload",
                  randomized_state & 3
                )

                setTimeout(function() {
                  player_weapon_element.setAttribute(
                    "reload",
                    randomized_state & 3
                  )

                  setTimeout(function() {
                    has_player_weapon_reload_state = false
                    player_weapon_ammunition = 20
                    player_weapon_delay = -7
                    player_weapon_element.removeAttribute("reload")
                  }, 70)
                }, 80)
              }, 90)
            }, 150)

            return
          }

          if (
            has_player_weapon_reload_state == true ||
            has_player_weapon_use_state == false
          ) {
            return
          }

          let player_weapon_recoil = randomized_state & 3

          player_weapon_delay = 0

          setTimeout(function() {
            player_weapon_position()

            let player_weapon_projectile_delay = 5
            const player_weapon_offset_increment_left_state = player_weapon_offset_increment_left
            const player_weapon_offset_increment_top_state = player_weapon_offset_increment_top
            const player_weapon_offset_left_state = player_weapon_offset_left + 3
            const player_weapon_offset_top_state = player_weapon_offset_top + 3

            const player_weapon_projectile_initialize = function() {
              let player_weapon_projectile_offset_left = player_weapon_offset_left + 3
              let player_weapon_projectile_offset_top = player_weapon_offset_top + 3
              const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
              const player_weapon_projectile_offset_increment_left = (player_weapon_offset_increment_left_state + player_weapon_recoil - ((randomized_state >> 2) & 3)) * 0.4
              const player_weapon_projectile_offset_increment_top = (player_weapon_offset_increment_top_state + player_weapon_recoil - ((randomized_state >> 6) & 3)) * 0.4

              const player_weapon_projectile_move = function(player_weapon_projectile_id) {
                player_weapon_projectile_offset_left += player_weapon_projectile_offset_increment_left
                player_weapon_projectile_offset_top += player_weapon_projectile_offset_increment_top

                let player_weapon_projectile_segment = player_weapon_projectile_offset_left >>> 4

                player_weapon_projectile_element.setAttribute(
                  "style",
                  "left: " + player_weapon_projectile_offset_left + "px; top: "
                    + player_weapon_projectile_offset_top + "px;"
                )

                if (
                  has_player_weapon_projectile_move_horizontal_state == true &&
                  player_weapon_projectile_offset_left >= 0 &&
                  enemy_offsets_map_horizontal[player_weapon_projectile_segment].length != 0
                ) {
                  let i = 0
                  const enemy_ids = Object.values(
                    enemy_offsets_map_horizontal[player_weapon_projectile_segment]
                  )

                  while (i != enemy_ids.length) {
                    const enemy_id = enemy_ids[i]

                    if (
                      player_weapon_projectile_offset_left <= enemy_offsets_right[enemy_id] &&
                      player_weapon_projectile_offset_top <= enemy_offsets_bottom[enemy_id] &&
                      (player_weapon_projectile_offset_left + 8) >= enemy_offsets_left[enemy_id] &&
                      (player_weapon_projectile_offset_top + 8) >= enemy_offsets_top[enemy_id]
                    ) {
                      setTimeout(function() {
                        enemy_hit(
                          45,
                          enemy_id,
                          (player_weapon_projectile_offset_increment_left | 0) + (randomized_state & 7),
                          (player_weapon_projectile_offset_increment_top | 0) + ((randomized_state >> 3) & 7)
                        )
                      }, 0)

                      let player_weapon_projectile_height = 8
                      let player_weapon_projectile_opacity = 60
                      let player_weapon_projectile_width = 8

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity != 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "background-color: #777; height: "
                              + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                          return
                        }

                        clearInterval(player_weapon_projectile_impact_id)
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "display: none; left: 0; top: 0;"
                        )
                        player_weapon_projectile_elements.push(player_weapon_projectile_element)
                      }, 40)

                      clearInterval(player_weapon_projectile_id)
                      return
                    }

                    i++
                  }

                  return
                }

                player_weapon_projectile_segment = player_weapon_projectile_offset_top >>> 3

                if (
                  player_weapon_projectile_offset_top >= 0 &&
                  enemy_offsets_map_vertical[player_weapon_projectile_segment].length != 0
                ) {
                  let i = 0
                  const enemy_ids = Object.values(
                    enemy_offsets_map_vertical[player_weapon_projectile_segment]
                  )

                  while (i != enemy_ids.length) {
                    const enemy_id = enemy_ids[i]

                    if (
                      player_weapon_projectile_offset_left <= enemy_offsets_right[enemy_id] &&
                      player_weapon_projectile_offset_top <= enemy_offsets_bottom[enemy_id] &&
                      (player_weapon_projectile_offset_left + 8) >= enemy_offsets_left[enemy_id] &&
                      (player_weapon_projectile_offset_top + 8) >= enemy_offsets_top[enemy_id]
                    ) {
                      setTimeout(function() {
                        enemy_hit(
                          45,
                          enemy_id,
                          (player_weapon_projectile_offset_increment_left | 0) + (randomized_state & 7),
                          (player_weapon_projectile_offset_increment_top | 0) + ((randomized_state >> 3) & 7)
                        )
                      }, 0)

                      let player_weapon_projectile_height = 8
                      let player_weapon_projectile_opacity = 60
                      let player_weapon_projectile_width = 8

                      const player_weapon_projectile_impact_id = setInterval(function() {
                        if (player_weapon_projectile_opacity != 0) {
                          player_weapon_projectile_height += 10
                          player_weapon_projectile_offset_left -= 5
                          player_weapon_projectile_offset_top -= 5
                          player_weapon_projectile_width += 10
                          player_weapon_projectile_element.setAttribute(
                            "style",
                            "background-color: #777; height: "
                              + player_weapon_projectile_height + "px; left: "
                              + player_weapon_projectile_offset_left + "px; opacity: 0."
                              + player_weapon_projectile_opacity + "; top: "
                              + player_weapon_projectile_offset_top + "px; width: "
                              + player_weapon_projectile_width + "px;"
                          )
                          player_weapon_projectile_opacity -= 20
                          return
                        }

                        clearInterval(player_weapon_projectile_impact_id)
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "display: none; left: 0; top: 0;"
                        )
                        player_weapon_projectile_elements.push(player_weapon_projectile_element)
                      }, 40)

                      clearInterval(player_weapon_projectile_id)
                      return
                    }

                    i++
                  }
                }
              }

              let has_player_weapon_projectile_move_horizontal_state = false

              if (player_weapon_offset_increment_left != 0) {
                has_player_weapon_projectile_move_horizontal_state = true
              }

              if (randomized_state > 3) {
                randomized_state -= 3
              } else {
                randomized_state += 3
              }

              if (player_weapon_projectile_offset_increment_left < 0) {
                if (player_weapon_projectile_offset_increment_top < 0) {
                  const player_weapon_projectile_id = setInterval(function() {
                    if (
                      player_weapon_projectile_offset_top > -50 &&
                      player_weapon_projectile_offset_left > -50
                    ) {
                      player_weapon_projectile_move(player_weapon_projectile_id)
                      return
                    }

                    clearInterval(player_weapon_projectile_id)
                    player_weapon_projectile_elements.push(player_weapon_projectile_element)
                  }, 5)

                  return
                }

                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_left > -50 &&
                    player_weapon_projectile_offset_top < 428
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                    return
                  }

                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }, 5)

                return
              }

              if (player_weapon_projectile_offset_increment_top < 0) {
                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_left < 722 &&
                    player_weapon_projectile_offset_top > -50
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                    return
                  }

                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }, 5)

                return
              }

              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                  return
                }

                clearInterval(player_weapon_projectile_id)
                player_weapon_projectile_elements.push(player_weapon_projectile_element)
              }, 5)
            }

            while (player_weapon_projectile_delay != 40) {
              setTimeout(function() {
                player_weapon_projectile_initialize()
              }, player_weapon_projectile_delay)

              player_weapon_projectile_delay += 5
            }
          }, 0)

          setTimeout(function() {
            let bounds_recoil = randomized_state & 3
            let player_weapon_muzzle_flash_margin = 2
            let player_weapon_muzzle_flash_size = 0
            const player_weapon_muzzle_flash_offset_left = player_weapon_offset_left
            const player_weapon_muzzle_flash_offset_top = player_weapon_offset_top

            setTimeout(function() {
              bounds_element.setAttribute(
                "recoil",
                bounds_recoil
              )
              bounds_recoil = (bounds_recoil + 1) & 3

              setTimeout(function() {
                bounds_element.setAttribute(
                  "recoil",
                  bounds_recoil
                )
                bounds_recoil = (bounds_recoil + 1) & 3

                setTimeout(function() {
                  bounds_element.removeAttribute("recoil")
                }, 15)
              }, 15)
            }, 15)

            const player_weapon_muzzle_flash_id = setInterval(function() {
              if (player_weapon_muzzle_flash_size != 100) {
                player_weapon_muzzle_flash_margin -= 10
                player_weapon_muzzle_flash_size += 20
                player_weapon_muzzle_flash_element.setAttribute(
                  "style",
                  "height: " + player_weapon_muzzle_flash_size + "px; left: "
                    + player_weapon_muzzle_flash_offset_left + "px; margin-left: "
                    + player_weapon_muzzle_flash_margin + "px; margin-top: "
                    + player_weapon_muzzle_flash_margin + "px; top: "
                    + player_weapon_muzzle_flash_offset_top + "px; width: "
                    + player_weapon_muzzle_flash_size + "px;"
                )
                return
              }

              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }, 10)
          }, 0)

          setTimeout(function() {
            let player_weapon_projectile_casing_offset_left
            let player_weapon_projectile_casing_offset_top
            let player_weapon_projectile_casing_opacity = 96
            let player_weapon_projectile_casing_rotation = randomized_state & 255
            let player_weapon_projectile_casing_z_index = 5
            const player_weapon_projectile_casing_element = player_weapon_effect_elements.pop()
            const player_weapon_projectile_casing_offset_increment_left = (player_offset_left & 7) - (randomized_state & 7)
            const player_weapon_projectile_casing_offset_increment_top = (player_offset_top & 7) - ((randomized_state >> 3) & 7)

            player_weapon_projectile_casing_offset_left = player_weapon_offset_left
            player_weapon_projectile_casing_offset_top = player_weapon_offset_top
            player_weapon_projectile_casing_element.setAttribute(
              "style",
              "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
                + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                + player_weapon_projectile_casing_rotation + "deg); width: 9px;"
            )

            const player_weapon_projectile_casing_id = setInterval(function() {
              if (player_weapon_projectile_casing_opacity != 10) {
                if (player_weapon_projectile_casing_opacity > 85) {
                  player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
                  player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
                  player_weapon_projectile_casing_rotation -= 3

                  if (player_weapon_projectile_casing_opacity == 86) {
                    player_weapon_projectile_casing_offset_left |= 0
                    player_weapon_projectile_casing_offset_top |= 0
                    player_weapon_projectile_casing_z_index = 3
                  }
                }

                player_weapon_projectile_casing_element.setAttribute(
                  "style",
                  "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                    + player_weapon_projectile_casing_opacity + "; top: "
                    + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                    + player_weapon_projectile_casing_rotation + "deg); width: 9px; z-index: "
                    + player_weapon_projectile_casing_z_index + ";"
                )
                player_weapon_projectile_casing_opacity--
                return
              }

              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_effect_elements.push(player_weapon_projectile_casing_element)
            }, 23)
          }, 0)

          setTimeout(function() {
            let i = 0

            const player_weapon_recoil_id = setInterval(function() {
              player_element.setAttribute(
                "recoil",
                player_weapon_recoil
              )
              player_weapon_element.setAttribute(
                "recoil",
                player_weapon_recoil
              )
              i++

              if (i < 5) {
                player_weapon_recoil = (player_weapon_recoil + 1) & 3
                return
              }

              clearInterval(player_weapon_recoil_id)
              player_element.removeAttribute("recoil")
              player_weapon_element.removeAttribute("recoil")
            }, 25)
          }, 0)

          player_weapon_ammunition--
        }
      },
      {
        "initialize": function() {
          player_weapon_ammunition = 50
          player_weapon_delay_maximum = 0
        },
        "use": function() {
          if (
            player_weapon_delay != player_weapon_delay_maximum ||
            wave_cleanup_id != 0
          ) {
            player_weapon_delay++
            return
          }

          if (
            has_player_weapon_reload_state == false &&
            player_weapon_ammunition == 0
          ) {
            let player_weapon_magazine_offset_increment_left = 4
            let player_weapon_magazine_offset_increment_top = 4
            let player_weapon_magazine_offset_left
            let player_weapon_magazine_offset_top
            let player_weapon_magazine_opacity = 98
            let player_weapon_magazine_rotation = randomized_state & 255
            let player_weapon_magazine_z_index = 5
            const player_weapon_magazine_element = player_weapon_effect_elements.pop()

            has_player_weapon_reload_state = true

            if ((randomized_state & 1) == 0) {
              player_weapon_magazine_offset_increment_left = -4
            }

            if (((randomized_state >> 1) & 1) == 0) {
              player_weapon_magazine_offset_increment_top = -4
            }

            player_weapon_element.setAttribute(
              "reload",
              randomized_state & 3
            )

            setTimeout(function() {
              player_weapon_magazine_offset_left = player_weapon_offset_left
              player_weapon_magazine_offset_top = player_weapon_offset_top
              player_weapon_magazine_element.setAttribute(
                "style",
                "left: " + player_weapon_magazine_offset_left + "px; top: "
                  + player_weapon_magazine_offset_top + "px; transform: rotate("
                  + player_weapon_magazine_rotation + "deg); width: 12px;"
              )

              const player_weapon_magazine_id = setInterval(function() {
                if (player_weapon_magazine_opacity != 10) {
                  if (player_weapon_magazine_opacity > 85) {
                    player_weapon_magazine_offset_left += player_weapon_magazine_offset_increment_left
                    player_weapon_magazine_offset_top += player_weapon_magazine_offset_increment_top
                    player_weapon_magazine_rotation -= 3

                    if (player_weapon_magazine_opacity == 84) {
                      player_weapon_magazine_z_index = 3
                    }
                  }

                  player_weapon_magazine_element.setAttribute(
                    "style",
                    "left: " + player_weapon_magazine_offset_left + "px; opacity: 0."
                      + player_weapon_magazine_opacity + "; top: "
                      + player_weapon_magazine_offset_top + "px; transform: rotate("
                      + player_weapon_magazine_rotation + "deg); width: 16px; z-index:"
                      + player_weapon_magazine_z_index + ";"
                  )
                  player_weapon_magazine_opacity--
                  return
                }

                clearInterval(player_weapon_magazine_id)
                player_weapon_magazine_element.setAttribute(
                  "style",
                  "display: none;"
                )
                player_weapon_effect_elements.push(player_weapon_magazine_element)
              }, 20)

              player_weapon_element.setAttribute(
                "reload",
                randomized_state & 3
              )

              setTimeout(function() {
                player_weapon_element.setAttribute(
                  "reload",
                  randomized_state & 3
                )

                setTimeout(function() {
                  has_player_weapon_reload_state = false
                  player_weapon_ammunition = 50
                  player_weapon_delay = -6
                  player_weapon_element.removeAttribute("reload")
                }, 100)
              }, 100)
            }, 100)

            return
          }

          if (
            has_player_weapon_reload_state == true ||
            has_player_weapon_use_state == false
          ) {
            return
          }

          player_weapon_delay = 0

          setTimeout(function() {
            player_weapon_position()

            let player_weapon_projectile_offset_left = player_weapon_offset_left + 3
            let player_weapon_projectile_offset_top = player_weapon_offset_top + 3
            const player_weapon_projectile_element = player_weapon_projectile_elements.pop()
            const player_weapon_projectile_offset_increment_left = (player_weapon_offset_increment_left + (randomized_state & 1) - ((randomized_state >> 1) & 1)) * 0.4
            const player_weapon_projectile_offset_increment_top = (player_weapon_offset_increment_top + ((randomized_state >> 2) & 1) - ((randomized_state >> 3) & 1)) * 0.4

            const player_weapon_projectile_move = function(player_weapon_projectile_id) {
              player_weapon_projectile_offset_left += player_weapon_projectile_offset_increment_left
              player_weapon_projectile_offset_top += player_weapon_projectile_offset_increment_top

              let player_weapon_projectile_segment = player_weapon_projectile_offset_left >>> 4

              player_weapon_projectile_element.setAttribute(
                "style",
                "left: " + player_weapon_projectile_offset_left + "px; top: "
                  + player_weapon_projectile_offset_top + "px;"
              )

              if (
                has_player_weapon_projectile_move_horizontal_state == true &&
                player_weapon_projectile_offset_left >= 0 &&
                enemy_offsets_map_horizontal[player_weapon_projectile_segment].length != 0
              ) {
                let i = 0
                const enemy_ids = Object.values(
                  enemy_offsets_map_horizontal[player_weapon_projectile_segment]
                )

                while (i != enemy_ids.length) {
                  const enemy_id = enemy_ids[i]

                  if (
                    player_weapon_projectile_offset_left <= enemy_offsets_right[enemy_id] &&
                    player_weapon_projectile_offset_top <= enemy_offsets_bottom[enemy_id] &&
                    (player_weapon_projectile_offset_left + 8) >= enemy_offsets_left[enemy_id] &&
                    (player_weapon_projectile_offset_top + 8) >= enemy_offsets_top[enemy_id]
                  ) {
                    setTimeout(function() {
                      enemy_hit(
                        50,
                        enemy_id,
                        (player_weapon_projectile_offset_increment_left | 0) + (randomized_state & 3),
                        (player_weapon_projectile_offset_increment_top | 0) + ((randomized_state >> 2) & 3)
                      )
                    }, 0)

                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    const player_weapon_projectile_impact_id = setInterval(function() {
                      if (player_weapon_projectile_opacity != 0) {
                        player_weapon_projectile_height += 10
                        player_weapon_projectile_offset_left -= 5
                        player_weapon_projectile_offset_top -= 5
                        player_weapon_projectile_width += 8
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "background-color: #777; height: "
                            + player_weapon_projectile_height + "px; left: "
                            + player_weapon_projectile_offset_left + "px; opacity: 0."
                            + player_weapon_projectile_opacity + "; top: "
                            + player_weapon_projectile_offset_top + "px; width: "
                            + player_weapon_projectile_width + "px;"
                        )
                        player_weapon_projectile_opacity -= 20
                        return
                      }

                      clearInterval(player_weapon_projectile_impact_id)
                      player_weapon_projectile_element.setAttribute(
                        "style",
                        "display: none; left: 0; top: 0;"
                      )
                      player_weapon_projectile_elements.push(player_weapon_projectile_element)
                    }, 45)

                    clearInterval(player_weapon_projectile_id)
                    return
                  }

                  i++
                }

                return
              }

              player_weapon_projectile_segment = player_weapon_projectile_offset_top >>> 3

              if (
                player_weapon_projectile_offset_top >= 0 &&
                enemy_offsets_map_vertical[player_weapon_projectile_segment].length != 0
              ) {
                let i = 0
                const enemy_ids = Object.values(
                  enemy_offsets_map_vertical[player_weapon_projectile_segment]
                )

                while (i != enemy_ids.length) {
                  const enemy_id = enemy_ids[i]

                  if (
                    player_weapon_projectile_offset_left <= enemy_offsets_right[enemy_id] &&
                    player_weapon_projectile_offset_top <= enemy_offsets_bottom[enemy_id] &&
                    (player_weapon_projectile_offset_left + 8) >= enemy_offsets_left[enemy_id] &&
                    (player_weapon_projectile_offset_top + 8) >= enemy_offsets_top[enemy_id]
                  ) {
                    setTimeout(function() {
                      enemy_hit(
                        50,
                        enemy_id,
                        (player_weapon_projectile_offset_increment_left | 0) + (randomized_state & 3),
                        (player_weapon_projectile_offset_increment_top | 0) + ((randomized_state >> 2) & 3)
                      )
                    }, 0)

                    let player_weapon_projectile_height = 8
                    let player_weapon_projectile_opacity = 40
                    let player_weapon_projectile_width = 8

                    const player_weapon_projectile_impact_id = setInterval(function() {
                      if (player_weapon_projectile_opacity != 0) {
                        player_weapon_projectile_height += 10
                        player_weapon_projectile_offset_left -= 5
                        player_weapon_projectile_offset_top -= 5
                        player_weapon_projectile_width += 10
                        player_weapon_projectile_element.setAttribute(
                          "style",
                          "background-color: #777; height: "
                            + player_weapon_projectile_height + "px; left: "
                            + player_weapon_projectile_offset_left + "px; opacity: 0."
                            + player_weapon_projectile_opacity + "; top: "
                            + player_weapon_projectile_offset_top + "px; width: "
                            + player_weapon_projectile_width + "px;"
                        )
                        player_weapon_projectile_opacity -= 20
                        return
                      }

                      clearInterval(player_weapon_projectile_impact_id)
                      player_weapon_projectile_element.setAttribute(
                        "style",
                        "display: none; left: 0; top: 0;"
                      )
                      player_weapon_projectile_elements.push(player_weapon_projectile_element)
                    }, 45)

                    clearInterval(player_weapon_projectile_id)
                    return
                  }

                  i++
                }
              }
            }

            let has_player_weapon_projectile_move_horizontal_state = false

            if (player_weapon_offset_increment_left != 0) {
              has_player_weapon_projectile_move_horizontal_state = true
            }

            if (player_weapon_projectile_offset_increment_left < 0) {
              if (player_weapon_projectile_offset_increment_top < 0) {
                const player_weapon_projectile_id = setInterval(function() {
                  if (
                    player_weapon_projectile_offset_top > -50 &&
                    player_weapon_projectile_offset_left > -50
                  ) {
                    player_weapon_projectile_move(player_weapon_projectile_id)
                    return
                  }

                  clearInterval(player_weapon_projectile_id)
                  player_weapon_projectile_elements.push(player_weapon_projectile_element)
                }, 6)

                return
              }

              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left > -50 &&
                  player_weapon_projectile_offset_top < 428
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                  return
                }

                clearInterval(player_weapon_projectile_id)
                player_weapon_projectile_elements.push(player_weapon_projectile_element)
              }, 6)

              return
            }

            if (player_weapon_projectile_offset_increment_top < 0) {
              const player_weapon_projectile_id = setInterval(function() {
                if (
                  player_weapon_projectile_offset_left < 722 &&
                  player_weapon_projectile_offset_top > -50
                ) {
                  player_weapon_projectile_move(player_weapon_projectile_id)
                  return
                }

                clearInterval(player_weapon_projectile_id)
                player_weapon_projectile_elements.push(player_weapon_projectile_element)
              }, 6)

              return
            }

            const player_weapon_projectile_id = setInterval(function() {
              if (
                player_weapon_projectile_offset_left < 722 &&
                player_weapon_projectile_offset_top < 428
              ) {
                player_weapon_projectile_move(player_weapon_projectile_id)
                return
              }

              clearInterval(player_weapon_projectile_id)
              player_weapon_projectile_elements.push(player_weapon_projectile_element)
            }, 6)
          }, 0)

          setTimeout(function() {
            let player_weapon_projectile_casing_offset_left
            let player_weapon_projectile_casing_offset_top
            let player_weapon_projectile_casing_opacity = 96
            let player_weapon_projectile_casing_rotation = randomized_state & 255
            let player_weapon_projectile_casing_z_index = 5
            const player_weapon_projectile_casing_element = player_weapon_effect_elements.pop()
            const player_weapon_projectile_casing_offset_increment_left = (player_offset_left & 7) - (randomized_state & 7)
            const player_weapon_projectile_casing_offset_increment_top = (player_offset_top & 7) - ((randomized_state >> 3) & 7)
            const player_weapon_projectile_casing_opacity_maximum = (randomized_state & 7) + 80

            player_weapon_projectile_casing_offset_left = player_weapon_offset_left
            player_weapon_projectile_casing_offset_top = player_weapon_offset_top
            player_weapon_projectile_casing_element.setAttribute(
              "style",
              "left: " + player_weapon_projectile_casing_offset_left + "px; top: "
                + player_weapon_projectile_casing_offset_top + "px;"
            )

            const player_weapon_projectile_casing_id = setInterval(function() {
              if (player_weapon_projectile_casing_opacity != 10) {
                if (player_weapon_projectile_casing_opacity > player_weapon_projectile_casing_opacity_maximum) {
                  player_weapon_projectile_casing_offset_left += player_weapon_projectile_casing_offset_increment_left
                  player_weapon_projectile_casing_offset_top += player_weapon_projectile_casing_offset_increment_top
                  player_weapon_projectile_casing_rotation -= 3

                  if ((player_weapon_projectile_casing_opacity - 1) == player_weapon_projectile_casing_opacity_maximum) {
                    player_weapon_projectile_casing_offset_left |= 0
                    player_weapon_projectile_casing_offset_top |= 0
                    player_weapon_projectile_casing_z_index = 3
                  }
                }

                player_weapon_projectile_casing_element.setAttribute(
                  "style",
                  "left: " + player_weapon_projectile_casing_offset_left + "px; opacity: 0."
                    + player_weapon_projectile_casing_opacity + "; top: "
                    + player_weapon_projectile_casing_offset_top + "px; transform: rotate("
                    + player_weapon_projectile_casing_rotation + "deg); width: 6px; z-index: "
                    + player_weapon_projectile_casing_z_index + ";"
                )
                player_weapon_projectile_casing_opacity--
                return
              }

              clearInterval(player_weapon_projectile_casing_id)
              player_weapon_projectile_casing_element.setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_effect_elements.push(player_weapon_projectile_casing_element)
            }, 23)
          }, 0)

          setTimeout(function() {
            let bounds_recoil = randomized_state & 3
            let player_weapon_muzzle_flash_margin = 5.5
            let player_weapon_muzzle_flash_size = 0
            const player_weapon_muzzle_flash_offset_left = player_weapon_offset_left
            const player_weapon_muzzle_flash_offset_top = player_weapon_offset_top

            setTimeout(function() {
              bounds_element.setAttribute(
                "recoil",
                bounds_recoil
              )
              bounds_recoil = (bounds_recoil + 1) & 3

              setTimeout(function() {
                bounds_element.removeAttribute("recoil")
              }, 15)
            }, 15)

            const player_weapon_muzzle_flash_id = setInterval(function() {
              if (player_weapon_muzzle_flash_size != 80) {
                player_weapon_muzzle_flash_margin -= 10
                player_weapon_muzzle_flash_size += 20
                player_weapon_muzzle_flash_element.setAttribute(
                  "style",
                  "height: " + player_weapon_muzzle_flash_size + "px; left: "
                    + player_weapon_muzzle_flash_offset_left + "px; margin-left: "
                    + player_weapon_muzzle_flash_margin + "px; margin-top: "
                    + player_weapon_muzzle_flash_margin + "px; top: "
                    + player_weapon_muzzle_flash_offset_top + "px; width: "
                    + player_weapon_muzzle_flash_size + "px;"
                )

                return
              }

              clearInterval(player_weapon_muzzle_flash_id)
              player_weapon_muzzle_flash_element.setAttribute(
                "style",
                "display: none;"
              )
            }, 10)
          }, 0)

          setTimeout(function() {
            let i = 0
            let player_weapon_recoil = randomized_state & 3

            const player_weapon_recoil_id = setInterval(function() {
              player_element.setAttribute(
                "recoil",
                player_weapon_recoil
              )
              player_weapon_element.setAttribute(
                "recoil",
                player_weapon_recoil
              )
              i++

              if (i < 5) {
                player_weapon_recoil = (player_weapon_recoil + 1) & 3
                return
              }

              clearInterval(player_weapon_recoil_id)
              player_element.removeAttribute("recoil")
              player_weapon_element.removeAttribute("recoil")
            }, 25)
          }, 0)

          player_weapon_ammunition--
        }
      }
    ]
    const player_weapons_randomized = Array(0)

    const player_move = function() {
      if ((player_inputs[97] | player_inputs[100] | player_inputs[115] | player_inputs[119]) == 0) {
        return
      }

      if (
        player_inputs[97] == 1 &&
        player_offset_left > 0
      ) {
        player_offset_left -= 3

        if (player_offset_left < 0) {
          player_offset_left = 0
        }
      }

      if (
        player_inputs[100] == 1 &&
        player_offset_left < 644
      ) {
        player_offset_left += 3

        if (player_offset_left > 644) {
          player_offset_left = 644
        }
      }

      if (
        player_inputs[115] == 1 &&
        player_offset_top < 350
      ) {
        player_offset_top += 3

        if (player_offset_top > 350) {
          player_offset_top = 350
        }
      }

      if (
        player_inputs[119] == 1 &&
        player_offset_top > 0
      ) {
        player_offset_top -= 3

        if (player_offset_top < 0) {
          player_offset_top = 0
        }
      }

      player_element.setAttribute(
        "style",
        "left: " + player_offset_left + "px; top: "
          + player_offset_top + "px;"
      )
    }

    const player_weapon_position = function() {
      if (player_inputs[150] == 1) {
        if (player_inputs[141] == 1) {
          player_weapon_offset_increment_left = -17
          player_weapon_offset_increment_top = -17
          player_weapon_offset_left = player_offset_left - 9
          player_weapon_offset_top = player_offset_top - 9
          player_weapon_element.setAttribute(
            "style",
            "left: " + player_weapon_offset_left + "px; top: "
              + player_weapon_offset_top + "px;"
          )
          return
        }

        if (player_inputs[147] == 1) {
          player_weapon_offset_increment_left = 17
          player_weapon_offset_increment_top = -17
          player_weapon_offset_left = player_offset_left + 25
          player_weapon_offset_top = player_offset_top - 9
          player_weapon_element.setAttribute(
            "style",
            "left: " + player_weapon_offset_left + "px; top: "
              + player_weapon_offset_top + "px;"
          )
          return
        }

        player_weapon_offset_increment_left = 0
        player_weapon_offset_increment_top = -23
        player_weapon_offset_left = player_offset_left + 8
        player_weapon_offset_top = player_offset_top - 15
        player_weapon_element.setAttribute(
          "style",
          "left: " + player_weapon_offset_left + "px; top: "
            + player_weapon_offset_top + "px;"
        )
        return
      }

      if (player_inputs[147] == 1) {
        if (player_inputs[133] == 1) {
          player_weapon_offset_increment_left = 17
          player_weapon_offset_increment_top = 17
          player_weapon_offset_left = player_offset_left + 25
          player_weapon_offset_top = player_offset_top + 25
          player_weapon_element.setAttribute(
            "style",
            "left: " + player_weapon_offset_left + "px; top: "
              + player_weapon_offset_top + "px;"
          )
          return
        }

        player_weapon_offset_increment_left = 23
        player_weapon_offset_increment_top = 0
        player_weapon_offset_left = player_offset_left + 31
        player_weapon_offset_top = player_offset_top + 8
        player_weapon_element.setAttribute(
          "style",
          "left: " + player_weapon_offset_left + "px; top: "
            + player_weapon_offset_top + "px;"
        )
        return
      }

      if (player_inputs[141] == 1) {
        if (player_inputs[133] == 1) {
          player_weapon_offset_increment_left = -17
          player_weapon_offset_increment_top = 17
          player_weapon_offset_left = player_offset_left - 9
          player_weapon_offset_top = player_offset_top + 25
          player_weapon_element.setAttribute(
            "style",
            "left: " + player_weapon_offset_left + "px; top: "
              + player_weapon_offset_top + "px;"
          )
          return
        }

        player_weapon_offset_increment_left = -23
        player_weapon_offset_increment_top = 0
        player_weapon_offset_left = player_offset_left - 15
        player_weapon_offset_top = player_offset_top + 8
        player_weapon_element.setAttribute(
          "style",
          "left: " + player_weapon_offset_left + "px; top: "
            + player_weapon_offset_top + "px;"
        )
        return
      }

      if (player_inputs[133] == 1) {
        player_weapon_offset_increment_left = 0
        player_weapon_offset_increment_top = 23
        player_weapon_offset_left = player_offset_left + 8
        player_weapon_offset_top = player_offset_top + 31
        player_weapon_element.setAttribute(
          "style",
          "left: " + player_weapon_offset_left + "px; top: "
            + player_weapon_offset_top + "px;"
        )
        return
      }

      player_weapon_offset_left = player_offset_left + player_weapon_offset_increment_left + 8
      player_weapon_offset_top = player_offset_top + player_weapon_offset_increment_top + 8
      player_weapon_element.setAttribute(
        "style",
        "left: " + player_weapon_offset_left + "px; top: "
          + player_weapon_offset_top + "px;"
      )
    }

    const select_elements = function(selector, callback) {
      const selected_elements = document.querySelectorAll(selector)

      if (selected_elements.length) {
        for (const selected_element_key in selected_elements) {
          if (selected_elements.hasOwnProperty(selected_element_key)) {
            callback(selected_elements[selected_element_key])
          }
        }
      }
    }

    const wave_initialize = function() {
      let i = 0
      let j
      let randomized_enemy_offset = randomized_state
      let randomized_enemy_offset_state = randomized_state & 65535

      enemies_count = 16

      select_elements(".bits, .pieces, .splatter", function(selected_element) {
        selected_element.remove()
      })

      while (i != 16) {
        if (typeof enemy_bits_elements[i] != "undefined") {
          enemy_bits_elements[i].remove()
        }

        enemy_bits_elements[i] = document.createElement("div")
        enemy_bits_elements[i].setAttribute(
          "class",
          "bits-hidden"
        )

        enemy_healths[i] = 100
        enemy_offsets_map_horizontal[i] = {}
        enemy_offsets_map_vertical[i] = {}

        if (typeof enemy_pieces_elements[i] != "undefined") {
          enemy_pieces_elements[i].remove()
        }

        enemy_pieces_elements[i] = document.createElement("div")
        enemy_pieces_elements[i].setAttribute(
          "class",
          "pieces-hidden"
        )

        if (typeof enemy_splatter_elements[i] != "undefined") {
          enemy_splatter_elements[i].remove()
        }

        enemy_splatter_elements[i] = document.createElement("div")
        enemy_splatter_elements[i].setAttribute(
          "class",
          "splatter-hidden"
        )
        j = 0

        while (j != 9) {
          const bits_element_child_element = document.createElement("div")
          const pieces_element_child_element = document.createElement("div")
          const splatter_element_child_element = document.createElement("div")

          bits_element_child_element.setAttribute(
            "class",
            "bits-" + j
          )
          pieces_element_child_element.setAttribute(
            "class",
            "pieces-" + j
          )
          splatter_element_child_element.setAttribute(
            "class",
            "splatter-" + j
          )
          enemy_bits_elements[i].appendChild(
            bits_element_child_element
          )
          enemy_pieces_elements[i].appendChild(
            pieces_element_child_element
          )
          enemy_splatter_elements[i].appendChild(
            splatter_element_child_element
          )
          j++
        }

        enemy_bits_elements[i] = bounds_element.appendChild(
          enemy_bits_elements[i]
        )
        enemy_pieces_elements[i] = bounds_element.appendChild(
          enemy_pieces_elements[i]
        )
        enemy_splatter_elements[i] = bounds_element.appendChild(
          enemy_splatter_elements[i]
        )
        has_enemy_knockback_state_ids[i] = 0
        has_enemy_knockback_states[i] = false
        has_enemy_move_states[i] = false
        randomized_enemy_offset = (((randomized_enemy_offset << 13) | (randomized_enemy_offset >> 19)) ^ randomized_enemy_offset_state) >>> 1
        randomized_enemy_offset_state += 1111111

        if ((randomized_enemy_offset & 1) == 0) {
          if (((randomized_enemy_offset >> 1) & 1) == 0) {
            enemy_offsets_left[i] = -28
          } else {
            enemy_offsets_left[i] = 700
          }

          enemy_offsets_top[i] = randomized_enemy_offset % 378
        } else {
          if (((randomized_enemy_offset >> 2) & 1) == 0) {
            enemy_offsets_top[i] = -28
          } else {
            enemy_offsets_top[i] = 406
          }

          enemy_offsets_left[i] = randomized_enemy_offset % 672
        }

        enemy_elements[i].setAttribute(
          "style",
          "left: " + enemy_offsets_left[i] + "px; top: "
            + enemy_offsets_top[i] + "px; transition-property: none;"
        )
        enemy_offsets_bottom[i] = enemy_offsets_top[i] + 28
        enemy_offsets_right[i] = enemy_offsets_left[i] + 28
        i++
      }

      while (i != 32) {
        enemy_offsets_map_horizontal[i] = {}
        enemy_offsets_map_vertical[i] = {}

        if (typeof enemy_bits_elements[i] != "undefined") {
          enemy_bits_elements[i].remove()
        }

        enemy_bits_elements[i] = document.createElement("div")
        enemy_bits_elements[i].setAttribute(
          "class",
          "bits-hidden"
        )

        if (typeof enemy_pieces_elements[i] != "undefined") {
          enemy_pieces_elements[i].remove()
        }

        enemy_pieces_elements[i] = document.createElement("div")
        enemy_pieces_elements[i].setAttribute(
          "class",
          "pieces-hidden"
        )

        if (typeof enemy_splatter_elements[i] != "undefined") {
          enemy_splatter_elements[i].remove()
        }

        enemy_splatter_elements[i] = document.createElement("div")
        enemy_splatter_elements[i].setAttribute(
          "class",
          "splatter-hidden"
        )
        j = 0

        while (j != 9) {
          const bits_element_child_element = document.createElement("div")
          const pieces_element_child_element = document.createElement("div")
          const splatter_element_child_element = document.createElement("div")

          bits_element_child_element.setAttribute(
            "class",
            "bits-" + j
          )
          pieces_element_child_element.setAttribute(
            "class",
            "pieces-" + j
          )
          splatter_element_child_element.setAttribute(
            "class",
            "splatter-" + j
          )
          enemy_bits_elements[i].appendChild(
            bits_element_child_element
          )
          enemy_pieces_elements[i].appendChild(
            pieces_element_child_element
          )
          enemy_splatter_elements[i].appendChild(
            splatter_element_child_element
          )
          j++
        }

        enemy_bits_elements[i] = bounds_element.appendChild(
          enemy_bits_elements[i]
        )
        enemy_pieces_elements[i] = bounds_element.appendChild(
          enemy_pieces_elements[i]
        )
        enemy_splatter_elements[i] = bounds_element.appendChild(
          enemy_splatter_elements[i]
        )
        i++
      }

      while (i != 48) {
        enemy_offsets_map_horizontal[i] = {}
        enemy_offsets_map_vertical[i] = {}
        i++
      }

      while (i != 57) {
        enemy_offsets_map_vertical[i] = {}
        i++
      }

      if (player_weapons_randomized.length == 0) {
        i = 0

        while (i != 3) {
          player_weapons_randomized.push(i)
          i++
        }

        i = 1

        while (i != 3) {
          j = (randomized_state >> i) % i
          player_weapon_equipped = player_weapons_randomized[j]
          player_weapons_randomized[j] = player_weapons_randomized[i]
          player_weapons_randomized[i] = player_weapon_equipped
          i++
        }
      }

      i = 0
      player_weapon_delay = 0
      player_weapon_equipped = player_weapons_randomized.pop()
      player_weapons[player_weapon_equipped].initialize()
      player_weapon_use_id = setInterval(
        player_weapons[player_weapon_equipped].use,
        45
      )

      const enemies_initialize_id = setInterval(function() {
        if (i != 16) {
          let enemy_offset_left = enemy_offsets_left[i]
          let enemy_offset_top = enemy_offsets_top[i]

          enemy_move_speeds[i] = randomized_state & 3

          if (enemy_offset_left > 0) {
            enemy_offset_left >>= 4

            if (enemy_offset_left != 0) {
              enemy_offsets_map_horizontal[enemy_offset_left - 1][i] = i
            }
          } else {
            enemy_offset_left = 0
          }

          enemy_offsets_map_horizontal[enemy_offset_left][i] = i
          enemy_offsets_map_horizontal[enemy_offset_left + 1][i] = i

          if (enemy_offset_top > 0) {
            enemy_offset_top >>= 3

            if (enemy_offset_top != 0) {
              enemy_offsets_map_vertical[enemy_offset_top - 1][i] = i
            }
          } else {
            enemy_offset_top = 0
          }

          enemy_offsets_map_vertical[enemy_offset_top][i] = i
          enemy_offsets_map_vertical[enemy_offset_top + 1][i] = i

          enemy_move_ids[i] = setInterval(
            enemy_move,
            130,
            i
          )

          i++
          return
        }

        if (enemies_count <= 0) {
          let wave_cleanup_width = 0

          clearInterval(enemies_initialize_id)
          player_element.removeAttribute("recoil")
          player_weapon_element.removeAttribute("recoil")

          wave_cleanup_id = setInterval(function() {
            if (wave_cleanup_width != 700) {
              wave_cleanup_element.setAttribute(
                "style",
                "height: 378px; width: " + wave_cleanup_width + "px;"
              )
              wave_cleanup_width += 10
            } else {
              clearInterval(player_weapon_use_id)
              clearInterval(wave_cleanup_id)
              i = 0
              wave_cleanup_id = 0
              wave_cleanup_element.setAttribute(
                "style",
                "display:none; width: 0;"
              )
              has_player_weapon_reload_state = false
              wave_initialize()
            }
          }, 10)
        }
      }, 100)
    }

    const title_screen_prompt_element = document.querySelector(".prompt")
    const wave_cleanup_element = document.createElement("div")

    onload = function() {
      on_document_ready(function() {
        bounds_container_element.setAttribute(
          "style",
          "left: " + ((innerWidth >> 1) - 336) + "px; top: "
            + ((innerHeight >> 1) - 189) + "px;"
        )
        player_inputs[133] = 0
        player_inputs[141] = 0
        player_inputs[147] = 0
        player_inputs[150] = 0

        document.querySelector("body").addEventListener(
          "keydown",
          function(event) {
            if (event.key.indexOf("r") == 1) {
              event.preventDefault()
              player_inputs[(event.key.charCodeAt(0) + event.key.charCodeAt(5))] = 1
              return
            }

            player_inputs[event.key.charCodeAt(0)] = 1
          }
        )

        document.querySelector("body").addEventListener(
          "keyup",
          function(event) {
            if (event.key.indexOf("r") == 1) {
              event.preventDefault()
              player_inputs[(event.key.charCodeAt(0) + event.key.charCodeAt(5))] = 0
              return
            }

            player_inputs[event.key.charCodeAt(0)] = 0
          }
        )

        const play_initialize_id = setInterval(function() {
          if ((player_inputs[133] | player_inputs[141] | player_inputs[147] | player_inputs[150]) != 0) {
            let i = 0

            clearInterval(play_initialize_id)
            clearInterval(title_screen_id)
            title_screen_prompt_element.classList.add("hidden")
            wave_cleanup_element.setAttribute(
              "class",
              "element wave-cleanup"
            )
            bounds_element.append(wave_cleanup_element)

            while (i != 16) {
              enemy_elements[i] = bounds_element.appendChild(
                document.createElement("div")
              )
              enemy_elements[i].setAttribute(
                "class",
                "element enemy"
              )
              i++
            }

            player_element.setAttribute("class", "element player")
            player_element.setAttribute(
              "style",
              "left: " + player_offset_left + "px; top: "
                + player_offset_top + "px;"
            )
            bounds_element.append(player_element)
            player_inputs[97] = 0
            player_inputs[100] = 0
            player_inputs[115] = 0
            player_inputs[119] = 0
            player_inputs[133] = 0
            player_inputs[141] = 0
            player_inputs[147] = 0
            player_inputs[150] = 0

            setInterval(player_move, 20)

            setInterval(player_weapon_position, 20)

            setInterval(function() {
              has_player_weapon_use_state = (player_inputs[133] | player_inputs[141] | player_inputs[147] | player_inputs[150]) > 0
            }, 20)

            player_weapon_element.setAttribute(
              "class",
              "element player-weapon"
            )
            bounds_element.appendChild(player_weapon_element)
            player_weapon_muzzle_flash_element = document.createElement("div")
            player_weapon_muzzle_flash_element.setAttribute(
              "class",
              "element player-weapon-muzzle-flash"
            )
            player_weapon_muzzle_flash_element = bounds_element.appendChild(
              player_weapon_muzzle_flash_element
            )
            i = 0

            while (i != 100) {
              player_weapon_effect_elements[i] = document.createElement("div")
              player_weapon_effect_elements[i].setAttribute(
                "class",
                "element player-weapon-effect"
              )
              player_weapon_effect_elements[i].setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_effect_elements[i] = bounds_element.appendChild(
                player_weapon_effect_elements[i]
              )
              i++
            }

            i = 0

            while (i != 100) {
              player_weapon_projectile_elements[i] = document.createElement("div")
              player_weapon_projectile_elements[i].setAttribute(
                "class",
                "element player-weapon-projectile"
              )
              player_weapon_projectile_elements[i].setAttribute(
                "style",
                "display: none;"
              )
              player_weapon_projectile_elements[i] = bounds_element.appendChild(
                player_weapon_projectile_elements[i]
              )
              i++
            }

            setInterval(function() {
              randomized_state = (((randomized_state << 13) | (randomized_state >> 19)) ^ randomized_state_offset) >>> 1

              if (randomized_state_offset <= 2146372536) {
                randomized_state_offset += 1111111
                return
              }

              randomized_state_offset &= 65535
            }, 10)

            wave_initialize()
          }
        }, 10)

        const title_screen_id = setInterval(function() {
          title_screen_prompt_element.classList.toggle("hidden")
        }, 500)
      })
    }

    onresize = function() {
      bounds_container_element.setAttribute(
        "style",
        "left: " + ((innerWidth >> 1) - 336) + "px; top:"
          + ((innerHeight >> 1) - 189) + "px;"
      )
    }
  </script>
</html>
